var cincopa=cincopa||{};cincopa.baseTimer=cincopa.baseTimer||new Date();cincopa.isnull=function(a){return typeof a=="undefined"||a==null||a==""};cincopa.fontsList=cincopa.fontsList||{roboto:{font:"https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap","font-family":"'Roboto', sans-serif;"},lato:{font:"https://fonts.googleapis.com/css?family=Lato:400,700&display=swap","font-family":"'Lato', sans-serif;"},opensans:{font:"https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap","font-family":"'Open Sans', sans-serif;"},oswald:{font:"https://fonts.googleapis.com/css?family=Oswald:400,500,600&display=swap","font-family":"'Oswald', sans-serif;"},montserrat:{font:"https://fonts.googleapis.com/css?family=Montserrat:400,600,700&display=swap","font-family":"'Montserrat', sans-serif;"}};cincopa.inBetween=function(d,c,a){var b=d.indexOf(c);if(b==-1){return null}var e=d.indexOf(a,b+c.length);if(e==-1||(a==null||a=="")){return d.substr(b+c.length)}return d.substr(b+c.length,e-b-c.length)};cincopa.short_ua=function(){var a="desk";var b=navigator.userAgent.toLowerCase();if(b.indexOf("ipad")>-1){a="ipad"}else{if(b.indexOf("iphone")>-1){a="iphone"}else{if(b.indexOf("android")>-1){a="android"}}}return a}();cincopa.traceit=function(c,a){try{c="["+(Math.round(((new Date()).getTime()-cincopa.baseTimer)/100)/10)+"] "+c;if(typeof c=="object"){console.dir(c,a)}else{console.log(c,a)}}catch(b){}};cincopa.json_stringify=JSON.stringify||(function(){var a=document.createElement("iframe");document.body.appendChild(a);var b=a.contentWindow.JSON;document.body.removeChild(a);return b.stringify})();cincopa.json_parse=JSON.parse||(function(){var a=document.createElement("iframe");document.body.appendChild(a);var b=a.contentWindow.JSON;document.body.removeChild(a);return b.parse})();cincopa.send_beacon=function(c){var d=new XMLHttpRequest();var b="";if(cincopa.analytics_filter_ip){b+="&analytics_filter_ip="+cincopa.analytics_filter_ip}if(cincopa.analytics_anonymize_ip){b+="&analytics_anonymize_ip="+cincopa.analytics_anonymize_ip}if(b!=""){c+=(c.indexOf("?")>-1?"":"?")+b}d.open("get",c,true);d.send()};cincopa.trace=function(b,a){cincopa.trace2("iold",b,a)};cincopa.trace2=function(b,d,a){if(!window.console||window.cincopa._debug===false){return}var c=({i:1,w:2,c:3,d:4})[b.charAt(0).toLowerCase()];if(c<window.cincopa._debug){return}a=a||{};cincopa.traceit("["+b+"] "+d,a);if(window.cp_rollbar){switch(c){case 1:window.cp_rollbar.info(d,a);break;case 2:window.cp_rollbar.warning(d,a);break;case 3:window.cp_rollbar.critical(d,a);break;case 4:window.cp_rollbar.debug(d,a);break}}};cincopa.get_root_loader=function(){var a=document.getElementsByTagName("script");for(var c=a.length-1;c>=0;c--){var b=a[c].src.indexOf("libasync");if(b>-1){var d=a[c].src.substring(0,b);return d}}return parent.location.protocol+"//rtcdn.cincopa.com/"};EventTarget.prototype.cincopaAddEventListener=function(c,b,a){this.addEventListener(c,b,a)};EventTarget.prototype.cincopaRemoveAllEventListeners=function(){while(this.cpevent&&this.cpevent.length>0){var b=this.cpevent.pop();this.removeEventListener(b.t,b.f,b.c);cincopa.trace2("ilib","cincopaRemoveAllEventListeners removed",b)}for(var a=0;a<this.children.length;a++){this.children[a].cincopaRemoveAllEventListeners()}};cincopa.is_html_element=function(a){return a!==null&&typeof a==="object"&&a instanceof HTMLElement};cincopa.is_ie=function(){return navigator.userAgent.match(/MSIE/)||!!navigator.userAgent.match(/Trident.*rv\:11\./)};cincopa.hasTouch=function(){var a=navigator.userAgent.toLowerCase();return("ontouchstart" in window&&a.match(/chrome/gi)===null)||("ontouchstart" in window&&a.match(/chrome/gi)!==null&&/android|iphone|ipad|ipod/i.test(a))};cincopa.copyToClipboard=function(d,c){if(navigator.userAgent.indexOf("Chrome")!=-1||navigator.userAgent.indexOf("Firefox")!=-1){var b={intercept:false,hook:function(e){if(b.intercept){e.preventDefault();e.clipboardData.setData("text/plain",d);e.clipboardData.setData("text/html",d);b.intercept=false}}};window.addEventListener("copy",b.hook);b.intercept=true;document.execCommand("copy");window.removeEventListener("copy",b.hook)}else{var a=c.createElement("input");a.setAttribute("value",d);c.body.appendChild(a);a.select();c.execCommand("copy");c.body.removeChild(a)}};cincopa.location=function(){try{return parent.location.href}catch(a){}return document.referrer};cincopa.disable_analytics=cincopa.disable_analytics||false;cincopa.disable_concurrency_handling=cincopa.disable_concurrency_handling||false;cincopa.disable_resume_playback=cincopa.disable_resume_playback||false;cincopa.wizard_mode=cincopa.wizard_mode||false;cincopa.disable_cookies=cincopa.disable_cookies||false;cincopa.setCookie=function(a){if(!cincopa.disable_cookies){document.cookie=a}};cincopa.analytics_callback=cincopa.analytics_callback||"";cincopa.analytics_filter_ip=cincopa.analytics_filter_ip||null;cincopa.analytics_anonymize_ip=cincopa.analytics_anonymize_ip||null;cincopa.analytics_persistent=cincopa.analytics_persistent||{mode:"off"};cincopa.disable_cdn=cincopa.disable_cdn||false;cincopa._debug=cincopa._debug||(cincopa.inBetween(location.search,"cpdebug=","&")=="true")||(cincopa.inBetween(document.cookie,"cpdebug=",";")=="true");cincopa.registeredFunctions=cincopa.registeredFunctions||[];cincopa.registerEvent=cincopa.registerEvent||function(b,c,d){for(var a in cincopa.registeredFunctions){if(cincopa.registeredFunctions[a].func==b&&cincopa.registeredFunctions[a].filter==c){return}}cincopa.registeredFunctions.push({func:b,filter:c,priority:d!=null?d:99});cincopa.registeredFunctions.sort(function(e,f){return(e.priority!=null?e.priority:99)-(f.priority!=null?f.priority:99)})};if(!String.prototype.startsWith){String.prototype.startsWith=function(b,a){a=a||0;return this.indexOf(b,a)===a};String.prototype.endsWith=function(a){return this.indexOf(a,this.length-a.length)!==-1}}cincopa._ROOT_LOADER=cincopa._ROOT_LOADER||function(){return"https://rt"+(cincopa.disable_cdn?"":"cdn")+".cincopa.com/"}();cincopa._ROOT_PROTOCOL=cincopa._ROOT_PROTOCOL||"https:";cincopa._ROOT_ANALYTICS=cincopa._ROOT_ANALYTICS||cincopa._ROOT_PROTOCOL+"//analytics.cincopa.com";cincopa._ROOT_LOADER_STATIC=cincopa._ROOT_LOADER_STATIC||cincopa._ROOT_LOADER;cincopa._AJAX=cincopa._AJAX||cincopa._ROOT_LOADER_STATIC;cincopa._HOST=cincopa._HOST||cincopa._ROOT_LOADER_STATIC;cincopa._JSON=cincopa._JSON||cincopa._AJAX+"json.aspx";cincopa._JSONV2=cincopa._JSONV2||(cincopa._ROOT_LOADER+"jsonv2.aspx");cincopa._META=cincopa._META||(cincopa._ROOT_LOADER+"meta_json.aspx");cincopa.traceit("Cincopa Library loaded "+cincopa._ROOT_LOADER_STATIC,"");cincopa.set_debug=function(a){if(typeof a=="undefined"){return}if(a===true){try{console.log(cincopa.inBetween(document.cookie,"cpdebug=",";"))}catch(b){}window.cincopa._debug=a;var c=new Date();c.setDate(c.getDate()+70);cincopa.setCookie("cpdebug="+a+"; expires="+c.toGMTString()+"; path=/")}else{if(a===false){window.cincopa._debug=false;var c=new Date();c.setDate(c.getDate()-70);cincopa.setCookie("cpdebug='';expires="+c.toGMTString())}else{window.cincopa._debug=({info:1,warning:2,critical:3,debug:4})[a]}}};cincopa.install_event_tracker_for_debug=function(){cp_debug_events=[];var a=EventTarget.prototype.addEventListener;EventTarget.prototype.addEventListener=function(f,d,c){var e=0;this.fa=a;this.fa(f,d,c);e++;cp_debug_events.push({t:f,f:d,c:c,o:this,s:(new Error()).stack});console.log(cp_debug_events.length+"/"+e+" Added Event Listener: on"+f)};var b=EventTarget.prototype.removeEventListener;EventTarget.prototype.removeEventListener=function(h,d,c){this.fr=b;this.fr(h,d,c);console.log(cp_debug_events.length+" Remove Event Listener: on"+h,this);var g=[];var e=false;while(cp_debug_events.length>0){var f=cp_debug_events.pop();if(f.t==h&&f.f==d&&f.c==c){console.log("removed");e=true}else{g.push(f)}}if(!e){console.log("not found")}cp_debug_events=g};cincopa.removeallevents=function(d){var f=[];var c=false;while(cp_debug_events.length>0){var e=cp_debug_events.pop();if(e.o==d){(e.o).removeEventListener(e.t,e.f,e.c);console.log("removed");c=true}else{f.push(e)}}if(!c){console.log("not found")}cp_debug_events=f}};cincopa.enable_rollbar=function(a){if(a&&!window.cp_rollbar){window._rollbarConfig={accessToken:"caa3630625dd4e08967e9e958c9c3319",captureUncaught:true,captureUnhandledRejections:true,globalAlias:"cp_rollbar",payload:{environment:"libasync"}};var b=document.createElement("script");b.type="text/javascript";b.src="https://cdn.rollbar.com/rollbarjs/refs/tags/v2.15.0/rollbar.min.js";document.head.appendChild(b)}else{delete window.cp_rollbar}};cincopa._wp_filesadded=cincopa._wp_filesadded||"";cincopa.loadJSFile=function(a){if(a.toLowerCase().indexOf("//")==-1){a=_cincopa_url+a}cincopa.trace("loadJSFile "+a);if(true){var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("src",a);document.getElementsByTagName("head")[0].appendChild(b);cincopa._wp_filesadded+="["+a+"]"}};cincopa.loadCSSFile=function(a){if(a.toLowerCase().indexOf("//")==-1){a=_cincopa_url+a}cincopa.trace("loadCSSFile "+a);if(cincopa._wp_filesadded.indexOf("["+a+"]")==-1){var b=document.createElement("link");b.setAttribute("rel","stylesheet");b.setAttribute("type","text/css");b.setAttribute("href",a);document.getElementsByTagName("head")[0].appendChild(b);cincopa._wp_filesadded+="["+a+"]"}};cincopa.logError=function(d,a,c){try{if(!c){c="http://"+a+"/"+cincopa.location().replace("?","@").replace("#","@")}c+="|"+navigator.userAgent;cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/oa.aspx?uid=rtlogerror3&fid="+d+"3&setref="+encodeURIComponent(c));cincopa.traceit("CINCOPA LOG ERROR : "+d+" data: "+a,"")}catch(b){}};cincopa.logException=function(b,a){try{cincopa.trace2("clib","logException "+b,a);cincopa.logError("exception-"+b,a.toString()+" "+a.stack.split("\n")[1].trim())}catch(a){}};cincopa.logFeature=function(d,b){if(cincopa.disable_analytics){return}try{var c=cincopa.location();if(b){c="http://"+b+"/"+c}cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/oa.aspx?uid=rtfeatures&fid="+d+"&ttl=192&setref="+encodeURIComponent(c))}catch(a){}};cincopa.parseqs=function(c){if(c==""){return{}}var d={};for(var e=0;e<c.length;++e){var f=c[e].indexOf("=");if(f==-1){d[c[e]]=""}else{d[c[e].substring(0,f)]=decodeURIComponent(c[e].substring(f+1).replace(/\+/g," "))}}return d};cincopa.csvToObject=function(a){var f=a.split("\n");var h=[];var c=f[0].split(",");for(var d=1;d<f.length;d++){var g={};var b=f[d].match(/({.*?}|[^{,]+)(?=\s*,|\s*$)/g);for(var e=0;e<c.length;e++){g[c[e].trim()]=b[e]?b[e].trim():null}h.push(g)}return h};cincopa.detectMediaElementLib=cincopa.detectMediaElementLib||function(){var b=document.getElementsByTagName("link");for(var a=0;a<b.length;a++){if(b[a].rel==="stylesheet"&&b[a].href&&(b[a].href.indexOf("mediaelementplayer.min.css")>-1||b[a].href.indexOf("mediaelementplayer.css")>-1)){return true}}return false}();cincopa.hexToRgbA=function(b){if(b.indexOf("#")!==0){b="#"+b}var a;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(b)){a=b.substring(1).split("");if(a.length==3){a=[a[0],a[0],a[1],a[1],a[2],a[2]]}a="0x"+a.join("");return[(a>>16)&255,(a>>8)&255,a&255]}throw new Error("Bad Hex")};try{cincopa.qs=cincopa.qa||cincopa.parseqs(window.location.search.substr(1).split("&"));cincopa.hash=cincopa.hash||cincopa.parseqs(window.location.hash.substr(1).split("&"))}catch(ex){}cincopa.debug_flags=cincopa.debug_flags||(function(){if(!cincopa.qs.cpdebug){return{}}return cincopa.parseqs(cincopa.qs.cpdebug.split(","))})();var zeSkins=zeSkins||[];var zeGalleryArray=zeGalleryArray||[];cincopa.getGalleryById=function(a){for(var b in zeGalleryArray){if(zeGalleryArray[b].loaderParams._object==a||zeGalleryArray[b].loaderParams._object=="cp_lightbox_wrap_obj_"+a){return zeGalleryArray[b].getSkin().go}else{if(zeGalleryArray[b].loaderParams._fid==a){return zeGalleryArray[b].getSkin().go}}}return null};cincopa.removeGalleryById=function(c){for(var e in zeGalleryArray){if(zeGalleryArray[e].loaderParams._object==c||zeGalleryArray[e].loaderParams._object=="cp_lightbox_wrap_obj_"+c||zeGalleryArray[e].loaderParams._fid==c){var b=document.getElementById(zeGalleryArray[e].loaderParams._object);b.cincopaRemoveAllEventListeners();try{zeGalleryArray[e].skin.destroyGallery()}catch(a){}document.querySelectorAll('[galleryId="cpjsonld_'+zeGalleryArray[e].loaderParams._object+'"]').forEach(function(f){f.remove()});delete zeGalleryArray[e];break}}if(b){while(b.firstChild){b.removeChild(b.firstChild)}if(b.getAttribute("id").indexOf("cp_lightbox_wrap_obj_")>-1){var d=b.getAttribute("id").replace("cp_lightbox_wrap_obj_","");document.getElementById(d).innerHTML=""}}return null};var _cp_go_hooks=new Object();var _cp_last_gallery=_cp_last_gallery||0;var _cp_preloaded_files=_cp_preloaded_files||new Object();cincopa.cprtv2=function(c){var b=c.loaderParams._fid;var f=null;if(!cincopa.qs.cprtv2){if(cincopa.qs.cpoverridefid){b=cincopa.qs.cpoverridefid}var h=cincopa._META+"?ver=v2json&id="+c.loaderParams._id+"&fid="+b;try{h+="&setrefhost="+cincopa.location().match(/:\/\/(.[^/]+)/)[1]}catch(a){cincopa.traceit(a)}if(cincopa.qs.cpdebug!=null){h+="&cpdebug="+cincopa.qs.cpdebug}}else{var h=cincopa._META;if(b.indexOf("!")>-1){var g=b.split("!");f=g[0];var e=g[1];h+="?rid="+e+"&template="+f}else{if(b.indexOf("@")>-1){var g=b.split("@");f=g[0];var b=g[1];h+="?fid="+b+"&template="+f}else{h+="?fid="+b+"&template="+b}}}h+="&setref="+encodeURIComponent(cincopa.location());var d=function(o){try{if(typeof o==="string"&&o==""){cincopa.logError("cdnissue2","resnull")}}catch(j){}var l=(typeof o==="string"||o instanceof String)?cincopa.json_parse(o):o;c.acc=l.acc;if(l.args.old_skin=="true"){cincopa.traceit("Cincopa : Old skin detected");var p=cincopa._ROOT_LOADER_STATIC+"widgetasync.aspx?id="+c.loaderParams._id+"&setref="+encodeURIComponent(cincopa.location());p+="&fid="+c.loaderParams._fid;p+=cp_add_override();cincopa.loadJSFile(p);return}c.json_url=cincopa._JSONV2;c.args=l.args;if(Object.keys&&Object.keys(c.args).length>0&&l.preload){c.args.id=c.loaderParams._id;c.args.preloader_js='"'+cincopa._ROOT_PROTOCOL+l.preload.js+'"';c.args.preloader_css='"'+cincopa._ROOT_PROTOCOL+l.preload.css+'"'}if(Object.keys(l.media).length>0){c.loaderParams._feedjson=l.media}if(cincopa.qs.cpdisablepreload||!l.preload||!l.preload.js){c.onArgs()}else{c.onSkinEvent("runtime.on-args");c.onSkinEvent("runtime.internal-on-args");var k=c.args.iframe;if((k===undefined||k==="")&&c.args.template_args!=null){k=c.args.template_args.iframe}for(var m in cincopa.hash){if(m.startsWith("cpoiframe")){k=cincopa.hash[m]}}if(k===undefined){k=false}else{k=k.toString().toLowerCase()=="true"}if(k){c.onArgs(null,true)}else{c.loadjscssfile("https:"+l.preload.js,"js","head",function(){c.onArgs(null,true)});c.loadjscssfile("https:"+l.preload.css,"css","head",function(){})}}};if(c.loaderParams._meta){d(c.loaderParams._meta)}else{Ajax(h,{http_method:"GET"},d)}};cincopa.boot_all=function(){cincopa.trace2("ilib","boot_all()");for(var a=0;a<_cpmp.length;a++){cincopa.boot_gallery(_cpmp[a])}_cpmp=[]};cincopa.boot_gallery=function(e){cincopa.trace2("ilib","boot_gallery()",e);if(cincopa.qs.cpdebug=="stopall"){alert("stopall");return}if(cincopa.is_html_element(e._object)){if(e._object.id==""){e._object.id="cp_random_"+Math.random().toString().substring(2);e._object=e._object.id}else{e._object=e._object.id}}if(!getElement(e._object)){cincopa.traceit("CINCOPA ERROR : MISSING DIV (try to embed again to fix) - div: "+e._object+" gallery: "+e._fid,e);cincopa.logError("trackmissingdiv1",e._fid);return}e._id="_cp_"+_cp_last_gallery++;var a=new GalleryObject(e);zeGalleryArray[e._id]=a;if(e._iframeParentObject){a.iframeParentObject=e._iframeParentObject}if(e._args){cincopa.trace("loading args directly into go object");a.onArgs(e._args);return a}var d=cincopa._ROOT_LOADER_STATIC+"widgetasync.aspx?id="+e._id+"&setref="+encodeURIComponent(cincopa.location());if(e._fid!=null){if(!e._fid.startsWith("rrid")&&!(e._fid.indexOf("!liveid")>-1)){e._fid=unescape(e._fid).replace("[cincopa","").replace(/[\s\+\[\]]/g,"")}if(e._fid.startsWith("rrid")){e._fid=e._fid.replace(/!/g,":");var c=e._fid.split(":");var b=e._fid.substring(5,e._fid.length-2-c[c.length-2].length-c[c.length-1].length);d+="&rrid="+b+"&uid="+c[c.length-2]+"&template="+c[c.length-1]}else{if(e._fid.indexOf("!liveid")>-1){var c=e._fid.split("!");d+="&liveid="+c[c.length-1].split(/:|-/)[1]+"&template="+c[0]}else{if(!cincopa.qs.cprtv1){cincopa.cprtv2(a);return a}else{d+="&fid="+e._fid}}}}else{d+="&rrid="+e._rrid+"&uid="+e._uid+"&template="+e._template}d+=cp_add_override();cincopa.loadJSFile(d);return a};function cp_load_widget(a,c,b){cincopa.trace2("ilib","cp_load_widget()");var d=[];d._object=c;d._fid=a;cincopa.boot_gallery(d)}function getElement(a){return(document.getElementById)?document.getElementById(a):document.all[a]}function cp_add_override(){var b=function(c){if(cincopa.qs&&cincopa.qs[c]){a+="&"+c+"="+cincopa.qs[c];cincopa.trace("override "+c+"="+cincopa.qs[c])}};var a="";b("cptemplate");b("cpskin");b("cpdisablepreload");b("cpenableinline");return a}function wp_widget_show(a,d){try{a.id=zeGalleryArray[a.id].loaderParams._object}catch(b){}var c=new GalleryObject(new Object());c.loadjscssfile(cincopa._ROOT_LOADER_STATIC+"libasync_old.js?aas","js","body",function(){wp_widget_show_old(a,d)})}cincopa.testtrack=function(uid){if(cincopa.location().split(/\?|#/g)[0].indexOf("cincopa.com")>-1){return}var lf=eval(atob("WyJicmlnaHRjb3ZlIiwieW91dHViZSIsInZpbWVvIiwid2lzdGlhIiwidnphYXIiLCJzcHJvdXR2aWRlbyIsImRyb3BzaG90cyIsInZpZGRsZXIiLCJpcGxheWVyaGQiLCJrYWx0dXJhIiwidmlkYmVvIiwiandwbGF5ZXIiLCJkYWlseW1vdGlvbiIsIm9veWFsYSIsInZpZHlhcmQiLCJsaXZlcGVyc29uIiwiaW50ZXJjb20iLCJtYXJrZXRvIiwiaHVic3BvdCIsInBhcmRvdCIsImVsb3F1ZSIsIm1vb2RsZSIsImFjdC1vbiIsImNsaWNrdGFsZSIsImhvdGphciIsImx1Y2t5b3JhbmdlIiwic2hvcGlmeSIsImJpZ2NvbW1lcmNlIiwicHJlc3Rhc2hvcCIsIm1hZ2VudG8iLCJkcnVwYWwiLCJtaWNyb3NvZnQiLCJzaGFyZXBvaW50Iiwic2FsZXNmb3JjZSIsIm1peHBhbmVsIiwia2lzc21ldHJpY3MiLCJ3b29jb21tZXJjZSIsIndpeCIsImp3cGxhdGZvcm0iLCJjbGlja2Z1bm5lbHMiLCJrdy5jb20iLCJzaGFycHNwcmluZyIsImRvY2VibyJd"));var found=new Object();var lists=[];lists.push(document.getElementsByTagName("script"));lists.push(document.getElementsByTagName("iframe"));for(var lx in lists){for(var s=lists[lx].length-1;s>=0;s--){var src=lists[lx][s].src.toLowerCase();for(var lfi in lf){if(src.indexOf(lf[lfi])>-1){found[lf[lfi]]=null}}}}if(cincopa.location().indexOf(".ebay")>-1){found.ebay=null}for(var f in found){cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/oa.aspx?uid=track&fid="+f+"&setref="+encodeURIComponent("http://"+uid+"/"+cincopa.location()))}for(var lfi in lf){if(cincopa.location().indexOf(lf[lfi])>-1){cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/oa.aspx?uid=trackurl&fid=trackurl_"+lf[lfi]+"&setref="+encodeURIComponent("http://"+uid+"/"+cincopa.location()))}}};cincopa.loadEditor=function(b){try{b=cincopa.deepClone(b)}catch(c){cincopa.traceit("loadEditor parse error");return}if(!document.getElementById("cp_wizard_editor")){var d=document.createElement("script");d.id="cp_wizard_editor";d.type="text/javascript";d.async=true;d.src="https://wwwcdn.cincopa.com/_cms/ugc/editor/editor.js";document.head.appendChild(d);d.onload=function(){cincopa.traceit("editor onload");try{a()}catch(e){cincopa.traceit("editor object issue",e)}}}else{a()}function a(){if(typeof CincopaWizard!=="function"){return}var e=new CincopaWizard(null,b);e.showActiveModules()}};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(b){for(var a=0;a<this.length;a++){if(this[a]===b){return a}}return -1}}function trace(b,a){cincopa.trace2("iint",b,a)}function getElement(a){return(document.getElementById)?document.getElementById(a):document.all[a]}function GalleryObject(params){var self=this;this.loaderParams=params;this.saveJSONPars=null;this.skinPath=null;this.skin=null;this.args=null;this.acc=null;this.galleryEditPanel=null;this.iframeParentObject=null;this.iframeParentId=null;this.url_params={};this.uid=null;this.json_url=cincopa._JSON;try{cincopa.removeGalleryById(this.loaderParams._object)}catch(ex){cincopa.traceit("hm exception",ex)}try{this.loaderParams._id=this.loaderParams._id||this.loaderParams._object}catch(ex){}try{var tmpsplit=location.search.substring(1).split("&");for(var x=0;x<tmpsplit.length;x++){var tmp=tmpsplit[x].split("=");this.url_params[tmp[0]]=tmp[1]}}catch(ex){}if(params&&params._editor){params._editor=JSON.parse(JSON.stringify(params._editor));var loadEditorArray=[];var loadem=function(editor){cincopa.traceit("editor loadem");if(typeof CincopaWizard!=="function"){return}while(loadEditorArray.length>0){cincopa.traceit("editor loading the wizard");new CincopaWizard(loadEditorArray.pop(),editor)}};cincopa._META=cincopa._META.replace("//rtcdn.","//rt.");if(cincopa.qs.cpdebug==null){cincopa.qs.cpdebug="purgecache"}else{cincopa.qs.cpdebug+="purgecache"}if(!document.getElementById("cp_wizard_editor")){var s=document.createElement("script");s.id="cp_wizard_editor";s.type="text/javascript";s.async=true;s.src="https://wwwcdn.cincopa.com/_cms/ugc/editor/editor.js";document.head.appendChild(s);s.onload=function(){cincopa.traceit("editor onload");try{loadem(params._editor)}catch(ex){cincopa.traceit("editor object issue",ex)}}}cincopa.registerEvent(function(name,data,gallery){console.log("editor registerEvent",gallery);if(params._object==gallery.loaderParams._object||params._object==gallery.loaderParams._iframeParentObject){loadEditorArray.push(gallery);try{loadem(params._editor)}catch(ex){cincopa.traceit("editor object issue api.ready",ex)}}},"api.ready",0)}function _trace(msg){return cincopa.trace2("iskn","GO [ "+self.loaderParams._object+" ] : "+msg)}this.arg_misc_group={misc:{name:"Misc",desc:"Add-on settings for the gallery, availalble only for pro users."}};this.arg_misc={allow_download:{group:"misc",name:"Allow Download",type:"list",values:{no:"No",original:"Original files",resized:"Web version"},desc:"Allow user to download and save all files.<br>* Resized zip contains photos resized to 600x450, videos in mp4 format and music in original sampling."},domain_lock:{group:"misc",type:"text",name:"Domain Lock",desc:"Allow this gallery to appear only in the domains on this list. This will prevent others from grabbing your gallery to their site. <br>Type a list of domains separated by comma or leave empty to allow all domains.<br>No need for <i>http://</i><br>For example: <i>mydomain.com,blogspot.com</i>"},domain_lock_msg:{group:"misc",type:"text",name:"Domain Lock Message",desc:"Message to be displayed when the gallery is locked, leave empty to keep the default message."},password:{group:"misc",type:"text",name:"Password",desc:"Protected your gallery with a password. Give it to your users and only they will be able to access the content."},iframe:{group:"misc",type:"bool",name:"iframe",desc:"Enable this option if the gallery is not working properly inside a page and the gallery will be placed in a HTML iframe."},ga_event:{group:"misc",type:"list",name:"Track Events With GA",values:{off:"Off (default)",on:"On"},desc:"When On the gallery will post events directly to your Google Analytics account where you can get detailed infromation about user engagement."},allow_search:{group:"misc",type:"list",name:"Search box",values:{no:"No (default)",yes:"Yes"},desc:"Add a search box above the gallery to allow user to search the gallery."},allow_tabs:{group:"misc",type:"bool",name:"Tabs",desc:"Group items by tag."},allow_tabs_layout:{group:"misc",type:"list",name:"Tabs Layout",values:{"theme-1":"Theme 1","theme-2":"Theme 2","theme-3":"Theme 3","theme-4":"Theme 4","theme-5":"Theme 5","theme-6":"Theme 6","theme-7":"Theme 7","theme-8":"Theme 8"},desc:"Tabs Layout",enableExp:"param.allow_tabs == 'true'"},allow_tabs_tags:{group:"misc",type:"tag",name:"Customize tags and order",desc:"Add a list of tags you would like to appear as tabs and then drag & drop to change the order. Use 'no-tag' to include items without any tag. Use 'All' to add a special tab with all items.",enableExp:"param.allow_tabs == 'true'"},allow_fixpos:{group:"misc",type:"list",name:"Fix Position",values:{no:"No (default)",cp_fixedLeftTop:"Left top",cp_fixedLeftBottom:"Left bottom",cp_fixedRightTop:"Right top",cp_fixedRightBottom:"Right bottom"},desc:"Fix the gallery to the corner of the page.",enableExp:"param.allow_lightbox == 'no'"},allow_margins:{group:"misc",type:"num",name:"Gallery margins",desc:"Define the margin size of gallery from the screen.",enableExp:"param.allow_lightbox == 'no'"},allow_lightbox:{group:"misc",type:"list",name:"Open gallery in lightbox",values:{no:"No (default)",thumbnail:"thumbnail",video_thumbnail:"video thumbnail",text:"text"},desc:"Open gallery in lightbox"},allow_lightbox_text:{group:"misc",type:"text",name:"Lightbox button text",desc:"Lightbox button text",enableExp:"param.allow_lightbox == 'text'"},allow_lightbox_size:{group:"misc",type:"list",name:"Lightbox thumbnail size",values:{small:"small 224:140",medium:"medium 440:275"},desc:"Lightbox thumbnail size",enableExp:"param.allow_lightbox == 'thumbnail' || param.allow_lightbox == 'video_thumbnail'"}};this.arg_misc_defaults={cooliris:"no",allow_download:"no",domain_lock:"",password:"",ga_event:"off",allow_search:"no",allow_fixpos:"no",allow_tabs:false,allow_tabs_layout:"theme-1",allow_tabs_tags:"",allow_margins:0,allow_lightbox:"no",allow_lightbox_text:"Open gallery",allow_lightbox_size:"small"};this.arg_template_group={template:{name:"Template",desc:""}};this.arg_template_map={tmpl_unique_name:{group:"template",type:"text",name:"Unique Name",desc:""},tmpl_description:{group:"template",type:"text",name:"Description",desc:""},tmpl_author:{group:"template",type:"text",name:"Author",desc:""},tmpl_visible:{group:"template",type:"list",values:{publicc:"Public",privatee:"Private"},name:"Visible",desc:""},tmpl_license:{group:"template",type:"num",name:"License",desc:""},tmpl_type:{group:"template",type:"text",name:"Type",desc:""},tmpl_support_photo:{group:"template",type:"bool",name:"Support Photo",desc:""},tmpl_support_video:{group:"template",type:"bool",name:"Support Video",desc:""},tmpl_support_audio:{group:"template",type:"bool",name:"Support Audio",desc:""},tmpl_poster_url:{group:"template",type:"text",name:"Poster URL",desc:""},tmpl_demo_fid:{group:"template",type:"text",name:"Demo Fid",desc:""},tmpl_demo_html:{group:"template",type:"html",name:"Demo HTML",desc:""}};this.arg_overlay_group={overlay:{name:"Overlay",desc:"Overlay settings for the gallery."}};this.arg_overlay={overlay_type:{group:"overlay",type:"list",name:"Overlay type",values:{off:"Off",button:"CTA button",watermark:"Watermark",poster_logo:"Overlay on poster",custom:"Custom"},desc:"Overlay type"},overlay_button_title:{group:"overlay",type:"text",name:"Overlay title",desc:"Overlay title",removeExp:"param.overlay_type != 'button'"},overlay_button_text:{group:"overlay",type:"text",name:"Button text",desc:"Text of button",removeExp:"param.overlay_type != 'button'"},overlay_button_color:{group:"overlay",type:"color",name:"Button color",desc:"Color of the button",removeExp:"param.overlay_type != 'button'"},overlay_button_text_color:{group:"overlay",type:"color",name:"Text color",desc:"Color of the text",removeExp:"param.overlay_type != 'button'"},overlay_watermark_url:{group:"overlay",type:"text",name:"Watermark image URL",desc:"Location of an external jpg, png or gif image to show in a corner of the display.",removeExp:"param.overlay_type != 'watermark'"},overlay_watermark_position:{group:"overlay",type:"list",name:"Watermark position",values:{top_left:"top left",top_right:"top right",bottom_left:"bottom left",bottom_right:"bottom right",},desc:"Watermark Position",removeExp:"param.overlay_type != 'watermark'"},overlay_link:{group:"overlay",type:"text",name:"Click url",desc:"Open URL on click.",removeExp:"param.overlay_type != 'button' && param.overlay_type != 'watermark'"},overlay_target:{group:"overlay",type:"bool",name:"Open url in new tab",desc:"Open link in current tab or new tab.",removeExp:"param.overlay_type != 'button' && param.overlay_type != 'watermark'"},overlay_html:{group:"overlay",type:"textarea",name:"Overlay html",desc:"Custom html of overlay",removeExp:"param.overlay_type != 'custom'"},overlay_poster_type:{group:"overlay",type:"list",name:"Overlay type",values:{overlay:"Colored Overlay",image:"Image"},desc:"Choose a transparent colored overlay with customization color or a global preview video poster image for all assets in this gallery",removeExp:"param.overlay_type != 'poster_logo'"},overlay_poster_overlay_bg:{group:"overlay",type:"color",name:"Overlay color",desc:"Match the overlay color to your brand or website color theme",removeExp:"param.overlay_type != 'poster_logo' || param.overlay_poster_type != 'overlay'"},overlay_poster_logo_url:{group:"overlay",type:"text",name:"Image URL",desc:"Location of an external jpg, png or gif image to show on poster",removeExp:"param.overlay_type != 'poster_logo' || param.overlay_poster_type != 'image'"},overlay_time:{group:"overlay",type:"list",name:"Overlay time",values:{onload:"on load",at_sec:"after X seconds",onhover:" on mouse hover",onclick:"on click"},desc:"Overlay show time",removeExp:"param.overlay_type == 'off' || param.overlay_type == 'poster_logo'"},overlay_sec:{group:"overlay",type:"text",name:"Show delay",desc:"Delay in seconds for overlay appearance",removeExp:"param.overlay_time != 'at_sec'"}};this.arg_overlay_defaults={overlay_type:"off",overlay_button_color:"0066CC",overlay_button_text_color:"ffffff",overlay_target:true,overlay_link:"",overlay_button_title:"Title",overlay_button_text:"Button text",overlay_watermark_url:"",overlay_watermark_position:"top_left",overlay_poster_type:"overlay",overlay_poster_overlay_bg:"000000",overlay_html:"",overlay_time:"onload"};this.initialize=function(){this.skin=null;cincopa.trace("GalleryObject - "+this.loaderParams._object+" - "+this.loaderParams._gid);this.loadjscssfile(cincopa._AJAX+"args.aspx?id="+this.loaderParams._object+"&fid="+this.loaderParams._gid,"js")};this.getCSSCode=function(name){var style=this.args["css_"+name];if(style&&style.length){style=style.replace(/~skin_path~/g,this.skinPath);style=style.replace(/~gallery_div~/g,this.loaderParams._object);style=style.replace(/~assets_path~/g,cincopa._HOST+"/assets/");var i=style.indexOf("~arg_");while(i>-1){var t=style.indexOf("~",i+1);if(t==-1){break}var markup=style.substring(i,t);var argname=markup.substr(5,markup.length-1);var argvalue="";try{argvalue=this.args[argname]}catch(ex){}style=style.substring(0,i)+argvalue+style.substring(t+1);i=style.indexOf("~arg_")}style="<style type='text/css' id='cp_custom_css_"+this.loaderParams._object+"'>"+style+"</style>";if(navigator.appVersion.match(/MSIE (8|7)/)){style="<br style='display:none;' />"+style}}else{style=""}return style};this.drawErrorBox=function(msg){var htm="<div style=width:600px;height:120px;color:red;font-size:14px;text-align:center;background-color:#f5f5f5;><br>"+msg+"</div>";this.args.widget_w=600;this.args.widget_h=200;this.setGalleryHTML(htm)};this.checkSEOCompliance=function(){try{cincopa.traceit("debug "+this.loaderParams._feedjson);for(var i=0;i<this.loaderParams._feedjson.items.length;i++){if(this.loaderParams._feedjson.items[i].title.length<15||this.loaderParams._feedjson.items[i].description.length<150){cincopa.logError("seo_guidelines_failed",this.uid);this.drawErrorBox("<table><tr><td><img style='height:70px;' src='"+this.loaderParams._feedjson.items[i].thumbnail_url+"' /></td><td>Asset (id "+this.loaderParams._feedjson.items[i].rid+") not compatible with our SEO guidelines.<br>Change title and description to 15 and 150 characters.<br>Once corrected please allow 1-2 minutes for the asset to go live.<br>For more info contact us at support@cincopa.com</td></tr></table>");return false}else{cincopa.logError("seo_guidelines_pass",this.uid)}}}catch(ex){}return true};this.onArgs=function(args,skipEvents){_trace("onArgs");if(args!=null){this.args=args}if(this.args&&typeof this.args.iframe!=="undefined"){if(this.args.iframe==="true"){this.args.iframe=true}else{if(this.args.iframe==="false"){this.args.iframe=false}}}if(this.acc){if(this.acc.user){this.uid=this.acc.user.uid;if(this.acc.user.status=="suspended"){cincopa.logError("user_suspended",this.uid);this.drawErrorBox("Gallery is offline<br>Click to <a style='color: green;font-weight: 700;' href='https://www.cincopa.com/about-gallery-offline?uid="+this.uid+"&utm_source=graybox&utm_medium=ref&utm_campaign=suspended'>restore your gallery</a> or contact us at support@cincopa.com");return}else{if(this.acc.user.status=="abuser"){cincopa.logError("user_abuser",this.uid);this.drawErrorBox("Cincopa trial has expired<br>Please <a href='https://www.cincopa.com/about-gallery-offline?uid="+this.uid+"&utm_source=graybox&utm_medium=ref&utm_campaign=abuser'>upgrade</a> to re-enable this gallery");return}else{if(this.acc.user.status=="domain_locked"){cincopa.logError("user_domain_locked",this.uid);this.drawErrorBox(this.acc.user.status_msg);cincopa.logFeature("domain-lock-happend",this.uid);return}else{if(this.acc.user.status=="outoftraffic"){cincopa.logError("user_outoftraffic",this.uid);this.drawErrorBox("Gallery is offline<br>Click to <a style='color: green;font-weight: 700;' href='https://www.cincopa.com/about-gallery-offline?uid="+this.uid+"&utm_source=graybox&utm_medium=ref&utm_campaign=outoftraffic'>restore your gallery</a> or contact us at support@cincopa.com");return}else{if(this.acc.user.status=="outofstorage"&&(this.acc.user.plan_name=="free"||this.acc.user.plan_name=="imagesforlife"||this.acc.user.plan_name=="professional")){cincopa.logError("user_free_outoftraffic",this.uid);this.drawErrorBox("Gallery is offline - out of quota <br>Click to <a style='color: green;font-weight: 700;' href='https://www.cincopa.com/about-gallery-offline?uid="+this.uid+"&utm_source=graybox&utm_medium=ref&utm_campaign=outofstorage-free'>restore your gallery</a> or contact us at support@cincopa.com");return}else{if(this.acc.user.status=="outofstorage"){}else{if(this.acc.user.plan_name=="trial"&&this.acc.user.admin_attributes!=null&&this.acc.user.admin_attributes.indexOf(",shck:")>-1){if(!this.checkSEOCompliance()){return}}}}}}}}if(this.acc.user.integration&&this.acc.user.integration.hubspot&&this.acc.user.integration.hubspot=="active"){cincopa.registerEvent("cincopa.cp_hubspot_integration","video.*",0);cincopa.registerEvent("cincopa.cp_hubspot_integration","emailgate.*",0);cincopa.logFeature("hubspot-active",this.uid)}if(this.acc.user.settings&&this.acc.user.settings["runtime.resume_playback"]&&this.acc.user.settings["runtime.resume_playback"]=="lastpos"){if(cincopa.analytics_persistent.mode=="off"){cincopa.analytics_persistent.mode="localstorage"}cincopa.registerEvent("cincopa.resume_playback","video.load",0)}if(this.acc.user.settings&&this.acc.user.settings["runtime.anchor_videos"]){this.args.anchor_videos=this.acc.user.settings["runtime.anchor_videos"]}if(this.acc.user.settings&&this.acc.user.settings["analytics.filter_ip"]!=""){cincopa.analytics_filter_ip=this.acc.user.settings["analytics.filter_ip"]}if(this.acc.user.settings&&this.acc.user.settings["analytics.anonymize_ip"]=="on"){cincopa.analytics_anonymize_ip=this.acc.user.settings["analytics.anonymize_ip"]}if(this.acc.user.settings&&this.acc.user.settings["branding.player_main_color_enable"]=="on"){this.args.theme_color_main=this.acc.user.settings["branding.player_main_color"];var rgb=cincopa.hexToRgbA(this.acc.user.settings["branding.player_main_color"]);this.args.theme_color_main_2="rgba("+Math.max(rgb[0]-60,0)+","+Math.max(rgb[1]-60,0)+","+Math.max(rgb[2]-60,0)+",1)";this.args.theme_color_main_bg="rgba("+Math.max(rgb[0]-10,0)+","+Math.max(rgb[1]-10,0)+","+Math.max(rgb[2]-10,0)+",0.3)"}if(this.acc.user.settings&&this.acc.user.settings["runtime.ga_event"]){this.args.ga_event=this.acc.user.settings["runtime.ga_event"]}if(this.acc.user.settings&&this.acc.user.settings["runtime.right_click_copy_embed"]){this.args.right_click_copy_embed=this.acc.user.settings["runtime.right_click_copy_embed"]=="on"?true:false}if(this.acc.user.settings&&this.acc.user.settings["runtime.force_native_player"]){this.args.forceNativeVideo=this.acc.user.settings["runtime.force_native_player"]=="on"?true:false}}else{cincopa.logError("gallery_not_ready","unknow_user");this.drawErrorBox("Gallery is empty");return}}if(!this.uid&&this.args&&this.args.cmapath){this.uid=this.args.cmapath.split("%")[0]}if(Object.keys&&Object.keys(this.args).length===0){cincopa.logError("gallery_not_found","unknow_user");this.drawErrorBox("Gallery not found");return}for(var n in cincopa.hash){if(n.startsWith("cpo")){this.args[n.substring(3)]=cincopa.hash[n]==="false"?false:cincopa.hash[n]==="true"?true:cincopa.hash[n]}}if(this.args&&this.args.domain_lock&&this.args.domain_lock!=""){cincopa.logFeature("domain-lock",this.uid)}if(this.args&&this.args.password&&this.args.password!=""){cincopa.logFeature("password",this.uid)}if(this.args&&this.args.hide_controls&&this.args.hide_controls=="true"){cincopa.logFeature("hide-controls",this.uid)}if(this.args&&this.args.player_watermark_on_off&&this.args.player_watermark_on_off=="true"){cincopa.logFeature("player-watermark",this.uid)}if(this.args&&this.args.watermark_position&&this.args.watermark_position!="no"){cincopa.logFeature("watermark",this.uid)}if(this.args&&this.args.always_on_top&&this.args.always_on_top=="true"){cincopa.logFeature("always-on-top",this.uid)}if(this.args&&this.args.autostart&&this.args.autostart!="false"){cincopa.logFeature("autostart",this.uid)}if(this.args&&this.args.ga_event&&this.args.ga_event=="on"){cincopa.logFeature("ga-event",this.uid)}if(!skipEvents){this.onSkinEvent("runtime.on-args");this.onSkinEvent("runtime.internal-on-args")}if(!this.args.haltLoadSkin){this.startLoadSkin()}};this.startLoadSkin=function(){var isiframe=this.args.iframe;if((isiframe===undefined||isiframe==="")&&this.args.template_args!=null){isiframe=this.args.template_args.iframe}if(isiframe===undefined){isiframe=false}else{isiframe=isiframe.toString().toLowerCase()=="true"}if(cincopa.detectMediaElementLib){isiframe=true;this.args.iframe=true}if(isiframe&&this.iframeParentObject==null){this.loadIFrameSkin()}else{this.loadSkin()}};this.loadArgs=function(){if(location.href.indexOf("zemaketemplate=")>-1){this.skin.arg_groups=this.merge_json(this.skin.arg_groups,this.arg_template_group);this.skin.arg_map=this.merge_json(this.skin.arg_map,this.arg_template_map)}var args_map=this.skin.arg_map;var args_defaults=this.skin.arg_defaults;var temp_args={};for(var n in args_defaults){temp_args[n]=args_defaults[n]}for(var n in this.args.template_args){temp_args[n]=this.args.template_args[n]}for(var n in this.arg_misc_defaults){temp_args[n]=this.arg_misc_defaults[n]}for(var n in this.arg_overlay_defaults){temp_args[n]=this.arg_overlay_defaults[n]}var user_permit=this.args.permit;if(this.acc){user_permit=this.acc.user.permit}for(var n in this.args){var par_permit=0;try{if(args_map[n]){par_permit=eval(args_map[n].permit)}}catch(ex){}if(typeof par_permit=="undefined"){par_permit=0}if(par_permit<=user_permit){temp_args[n]=this.args[n]}}var normalize=function(obj){for(var n in obj){if(args_map[n]&&args_map[n].type=="bool"){obj[n]=obj[n]==="true"||obj[n]===true}else{if(obj[n]&&obj[n].type=="num"){obj[n]=parseInt(obj[n])}}}};normalize(temp_args);normalize(temp_args.template_args);this.args=temp_args};this.loadIFrameSkin=function(){var w=100,h=75;if(this.args.widget_w){w=this.args.widget_w}if(this.args.widget_h){h=this.args.widget_h}if(this.args.allow_lightbox=="javascript"){w=0;h=0}var ifrm='<iframe id="zeiframe_'+this.loaderParams._object+'" allowfullscreen scrolling=no frameborder=0 vspace=0 hspace=0 marginwidth=0 marginheight=0 width='+w+"px height="+h+"px></iframe>";this.setGalleryHTML(ifrm,true);cincopa.trace("Creating iframe zeiframe_"+this.loaderParams._object);var zeiframe=document.getElementById("zeiframe_"+this.loaderParams._object);zeiframe.width="100%";var doc=zeiframe.contentDocument;if(doc==undefined||doc==null){doc=zeiframe.contentWindow.document}var htm="";var writeto=function(what){htm+=what;htm+="\n"};writeto('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n<html>\n<head>');writeto(unescape("%3Cscript type='text/javascript'%3Ecincopa = {disable_cookies:window.parent.cincopa.disable_cookies, disable_analytics:window.parent.cincopa.disable_analytics, wizard_mode: window.parent.cincopa.wizard_mode};%3C/script%3E"));writeto('<script type="text/javascript" src="'+cincopa.get_root_loader()+'libasync.js"> </script>');writeto(unescape("%3Cscript type='text/javascript'%3Ecincopa = window.parent.cincopa;%3C/script%3E"));writeto(unescape("%3Cscript type='text/javascript'%3E"));writeto("var _gallery_args = {");for(var n in this.args){if(n!="template_args"){writeto(n+":'"+this.args[n].toString().replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/'/g,"\\'")+"',")}}writeto("template_args : {");for(var n in this.args.template_args){if(n!="gmdss"){writeto(n+":'"+this.args.template_args[n].toString().replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/'/g,"\\'")+"',")}}writeto("gmdss:'y' }};");writeto(unescape("%3C/script%3E"));writeto("</head><body  marginheight=0 marginwidth=0 style='margin-top: 0px;'>");writeto("<div id='inneriframe'></div>");writeto(unescape("%3Cscript defer type='text/javascript'%3E"));writeto("var zeo = [];");writeto("zeo['_object'] = 'inneriframe';");writeto("zeo['_id'] = 'inneriframe';");if(this.loaderParams._feedjson!=null){writeto("zeo['_feedjson'] = "+cincopa.json_stringify(this.loaderParams._feedjson).replace(/</g,"&lt;").replace(/>/g,"&gt;")+";")}writeto("zeo['_fid'] = '"+this.loaderParams._fid+"';");writeto("zeo['_args'] = _gallery_args;");writeto("zeo['_iframeParentObject'] = '"+this.loaderParams._object+"';");writeto("zeo['_iframeParentId'] = '"+this.loaderParams._id+"';");writeto("var go = new GalleryObject(zeo);");writeto("zeGalleryArray['inneriframe'] = go");writeto("go.iframeParentObject = '"+this.loaderParams._object+"';");writeto("go.iframeParentId = '"+this.loaderParams._id+"';");writeto("go.json_url = '"+this.json_url+"';");if(this.acc){writeto("go.acc = "+cincopa.json_stringify(this.acc)+";")}if(this.args.preloader_js&&!cincopa.qs.cpdisablepreload){writeto("go.args = _gallery_args;");writeto("go.loadjscssfile("+this.args.preloader_js+", 'js', 'head', function() {(zeGalleryArray['inneriframe']).onArgs(); });");writeto("go.loadjscssfile("+this.args.preloader_css+", 'css', 'head', function() {}); ")}else{writeto("go.onArgs(zeo['_args']);")}if(typeof this.args.fonts!="undefined"&&this.args.fonts!="no"){writeto("go.loadjscssfile('"+this.args.fonts+"', 'font', 'head'); ")}writeto(unescape("%3C/script%3E"));writeto("</body>\n</html>");cincopa.trace(htm);doc.open();doc.write(htm);doc.close()};this.getParentIframeObject=function(){if(!this.iframeParentId){return null}return parent.document.getElementById("zeiframe_"+parent.zeGalleryArray[this.iframeParentId].loaderParams._object)};this.loadSkin=function(){if(this.args.exception){if(this.args.exception=="galleryempty"){var msg="Gallery Is Empty";if(this.args.logged_user=="owner"){msg+="<br><br>Click 'Edit' at the top left of this box<br>and then click 'Add Media File' at the menu on the right."}var htm="<div style=width:600px;height:200px;color:red;font-size:14px;text-align:center;background-color:#f5f5f5;><br><br><br>"+msg+"</div>";this.args.widget_w=600;this.args.widget_h=200;this.setGalleryHTML(htm);if(this.onSkinInit){this.onSkinInit()}return}}if(typeof this.args.fonts!="undefined"&&this.args.fonts!="no"){this.loadjscssfile(this.args.fonts,"font","head")}if(typeof this.url_params.zeskinpath!=="undefined"){this.skinPath=this.url_params.zeskinpath;this.loadjscssfile("https://www.cincopa.com/_cms/media-platform/runtimeze/cp_reset_style.css","css","head")}else{if(this.args.skin_code.charAt(0)=="/"){this.skinPath=cincopa._ROOT_LOADER_STATIC+"fpskins"+this.args.skin_code+"/"}else{this.skinPath=cincopa._HOST+this.args.skin_code+"/"}}if(this.loaderParams._dev_path){this.skinPath=this.loaderParams._dev_path}if(typeof zeSkins[this.getSkinName(this.args.skin_code)]=="undefined"){var skinfile=this.skinPath+"skin.js";if(location.href.indexOf("zetestskin=")>-1){skinfile=this.skinPath+"skin_test.js"}this.loadjscssfile(skinfile,"js","head",function(){self.initSkin()})}else{this.initSkin()}};this.getSkinName=function(skin_code){if(this.args.skin_code.charAt(0)=="/"){return this.args.skin_code.split("/")[1]}return skin_code};this.initSkin=function(){_trace("initializing skin");this.skin=new zeSkins[this.getSkinName(this.args.skin_code)];this.skin.init(this);if(this.onSkinInit){this.onSkinInit()}if(this.iframeParentId!=null&&parent.zeGalleryArray[this.iframeParentId].onSkinInit){parent.zeGalleryArray[this.iframeParentId].onSkinInit()}};this.getMediaJSON=function(par){if(par!=null){this.saveJSONPars=par}if(this.loaderParams._feedjson){this.MediaJSON=this.loaderParams._feedjson;var that=this;setTimeout(function(){that.zeOnMediaJSON()},0)}else{var jsonlink=this.json_url;if(this.loaderParams._feedurl){jsonlink=this.loaderParams._feedurl}jsonlink+="?callback=zeOnMediaJSON";jsonlink+="&wid="+this.loaderParams._id;if(!this.loaderParams._fid||this.loaderParams._fid.startsWith("rrid:")){jsonlink+="&fid="+this.args.fid;if(this.acc){cincopa.logError("cprtv2","_fid_null")}}else{if(this.args.liveid){var tmp=this.loaderParams._fid.split("!");jsonlink+="&fid="+tmp[0]+"!"+(tmp.length==3?tmp[1]:"")+"&liveid="+tmp[tmp.length-1].split(/:|-/)[1];jsonlink=jsonlink.replace("cdn.cincopa.com",".cincopa.com")}else{jsonlink+="&fid="+this.loaderParams._fid}}jsonlink+="&thumb="+this.saveJSONPars.thumb;jsonlink+="&content="+this.saveJSONPars.content;if(this.saveJSONPars.details){jsonlink+="&details="+this.saveJSONPars.details}if(this.saveJSONPars.password){jsonlink+="&password="+this.saveJSONPars.password}else{var pass=cincopa.inBetween(document.cookie,"pass"+this.args.fid+"=",";");if(pass){jsonlink+="&password="+pass}}if(this.args._access_key){jsonlink+="&openpassword="+this.args._access_key+":"+encodeURIComponent(this.args.password)}if(this.loaderParams._feedparams){jsonlink+=this.loaderParams._feedparams}if(this.args.extra_assets){jsonlink+="&extra="+this.args.extra_assets}if(this.loaderParams._rid){jsonlink+="&rid="+this.loaderParams._rid}if(cincopa.qs&&cincopa.qs.cpversions){jsonlink+="&versions="+cincopa.qs.cpversions}if(cincopa.qs&&cincopa.qs.cpm3u8url){jsonlink+="&cpm3u8url="+cincopa.qs.cpm3u8url}this.loadjscssfile(jsonlink,"js")}};this.zeOnMediaJSON=function(){_trace("zeOnMediaJSON");if(this.MediaJSON.errorcode=="bad_password"){this.loadjscssfile(cincopa._ROOT_LOADER_STATIC+"md5.js","js","body");this.promtPassword(this.skin.go.loaderParams._object);return}else{if(this.MediaJSON.errorcode){this.setGalleryHTML("<b>"+this.MediaJSON.errormessage+"</b>");_trace("json error - "+this.MediaJSON.errormessage);return}else{if(this.args.allow_lightbox!=="no"&&!this.lightModeEnabled){this.showLightbox(this.skin.go.loaderParams._object);return}}}if(this.args.iframe){window.removeEventListener("resize",this.resizeIFrame)}var tmpitems=this.MediaJSON.items.filter(function(item){if(!item.content_type.startsWith("video")){return true}var renditions=["mp4_hd","ts_144p","ts_240p","ts_360p","ts_480p","ts_540p","ts_720p","ts_1080p","ts_1440p","ts_2160p"];for(i in renditions){if(item.versions[renditions[i]]){return true}}if(!item.versions.original){return false}if(item.versions.original.filesize/Math.pow(1024,2)>200){return false}var supportedFormats=[".webm",".mp4",".mov",".m4v"];for(i in supportedFormats){if(item.versions.original.url.toLowerCase().indexOf(supportedFormats[i])>-1){return true}}return false});if(tmpitems.length==0||tmpitems[0].id=="207169026"){console.log(this.MediaJSON.items[0],"this.MediaJSON.items[0]");this.setGalleryHTML("<div class='cp-processing-container-wrapper' ><div class='cp-processing-container'>Processing...</div><img src='"+(this.MediaJSON.items[0].versions.jpg_1200x900.url||this.MediaJSON.items[0].thumbnail_url)+"' class='cp-processing-container--img' /></div>");var that=this;setTimeout(function(){cincopa.boot_gallery({_object:that.loaderParams._object,_fid:that.loaderParams._fid})},10000);return}this.MediaJSON.items=tmpitems;this.onSkinEvent("runtime.on-media-json");if((this.args.course_progress&&this.args.course_progress=="track")||(this.args.channel_progress&&this.args.channel_progress=="track")){if(cincopa.analytics_persistent.mode=="off"){cincopa.analytics_persistent.mode="localstorage"}cincopa.registerEvent("cincopa.cp_pbar","runtime.on-html-loaded",0);cincopa.registerEvent("cincopa.cp_pbar","video.timeupdate",0)}if(cincopa.analytics_persistent.mode=="cookie"||cincopa.analytics_persistent.mode=="localstorage"){try{for(var i=0;i<this.MediaJSON.items.length;i++){if(this.MediaJSON.items[i]["content_type"].startsWith("video")){this.init_video_play_stats({uid:this.uid,item:this.MediaJSON.items[i]});if(cincopa.analytics_persistent.mode=="localstorage"){var key="cphmps_"+this.uid+"_"+this.MediaJSON.items[i].rid;var d=localStorage.getItem(key)}else{var d=cincopa.inBetween(document.cookie,"cphmps_"+this.uid+"_"+this.MediaJSON.items[i].rid+"=",";")}if(d){cincopa.trace2("dlib","loading persistent data for "+this.MediaJSON.items[i].rid);d=JSON.parse(atob(d));this.set_video_play_stats({uid:this.uid,item:this.MediaJSON.items[i]},d.hmrange);cincopa.cp_media_hm[this.uid][this.MediaJSON.items[i].rid].lastpos=d.lastpos}}}}catch(ex){cincopa.trace("debug exception "+ex)}}if(!this.args.haltLoadMedia){this.startLoadMedia()}};this.startLoadMedia=function(){this.skin.onMediaJSON(this.MediaJSON)};this.resizeIFrame=function(){var iframe=parent.document.getElementById("zeiframe_"+self.loaderParams._iframeParentObject);if(iframe){iframe.style.height=iframe.contentWindow.document.body.scrollHeight+"px"}};var promt_shown=false;this.promtPassword=function(containerID){var that=this;var fid=this.loaderParams._fid;var thumbnail_url="//www.cincopa.com/media-platform/api/thumb.aspx?size=xlarge&fid="+fid;var passwordDivContainer=document.createElement("div");passwordDivContainer.className="ze_password_promt_container";this.promtPassword.passwordDivContainer=passwordDivContainer;var thumbnail=new Image();thumbnail.onload=function(){passwordDivContainer.appendChild(this);if(that.args.iframe){that.resizeIFrame()}};thumbnail.src=thumbnail_url;var container=document.getElementById(containerID);var passwordDivContainerInner=document.createElement("div");passwordDivContainerInner.className="ze_password_promt_container_inner";this.promtPassword.passwordDivContainerInner=passwordDivContainerInner;var passwordDivContainerIcon=document.createElement("i");passwordDivContainerIcon.className="ze_password_lock_icon";var passwordDivContainerHead=document.createElement("h1");passwordDivContainerHead.innerHTML=that.args.password_text?that.args.password_text:"Please enter a password";var passChildContWrap=document.createElement("div");passChildContWrap.className="ze_password_field_wrap";var passChildCont=document.createElement("div");passChildCont.className="ze_password_field "+(self.promtPassword.eyeActive?"ze_password_text_field":"");var passInput=document.createElement("input");passInput.type=self.promtPassword.eyeActive?"text":"password";passInput.name="ze_password";passInput.placeholder="Password";passInput.className="ze_password_input";passInput.value=this.promtPassword.submittedPass?this.promtPassword.submittedPass:"";passInput.oninput=function(){passwordDivContainerInner.classList.remove("ze_password_error")};var passEye=document.createElement("i");passEye.className="ze_password_field_eye";passEye.style.color="#"+that.args.theme_color_main;passEye.onclick=function(){if(passInput.type==="password"){passInput.type="text";passChildCont.classList.add("ze_password_text_field");self.promtPassword.eyeActive=true}else{passInput.type="password";passChildCont.classList.remove("ze_password_text_field");self.promtPassword.eyeActive=false}};var passSubmitCont=document.createElement("div");passSubmitCont.className="ze_submit_field";var passSubmitBtn=document.createElement("a");passSubmitBtn.href="javascript:void(0)";passSubmitBtn.className="ze_password_submit_btn";passSubmitBtn.style["background-color"]="#"+that.args.theme_color_main;passSubmitBtn.innerHTML="Continue";passChildCont.appendChild(passInput);passChildCont.appendChild(passEye);passSubmitCont.appendChild(passSubmitBtn);passwordDivContainerInner.appendChild(passwordDivContainerIcon);passwordDivContainerInner.appendChild(passwordDivContainerHead);if(promt_shown==true){passwordDivContainerInner.classList.add("ze_password_error")}passChildContWrap.appendChild(passChildCont);passChildContWrap.appendChild(passSubmitCont);passwordDivContainerInner.appendChild(passChildContWrap);passwordDivContainer.appendChild(passwordDivContainerInner);var overlay=document.createElement("div");overlay.className="ze_password_overlay";passwordDivContainer.appendChild(overlay);container.innerHTML="";container.appendChild(passwordDivContainer);promt_shown=true;this.onSkinEvent("runtime.on-password-shown");passInput.onkeypress=function(e){var key="which" in e?e.which:e.keyCode;if(key==13){onPasswordSubmit();return false}};passSubmitBtn.onclick=function(){onPasswordSubmit()};function onPasswordSubmit(){var value=passInput.value;self.promtPassword.submittedPass=value;var f=new Date();f.setDate(f.getDate()+7);cincopa.setCookie("pass"+self.args.fid+"="+hex_md5(value)+"; expires="+f.toGMTString());self.saveJSONPars.password=hex_md5(value);self.cleanPromtPassword(self.skin.go.loaderParams._object);self.getMediaJSON()}if(this.args.auto_resize){window.removeEventListener("resize",self.promtPassword.onResize);window.addEventListener("resize",self.promtPassword.onResize);self.promtPassword.onResize()}if(this.args.iframe){window.parent.removeEventListener("resize",this.resizeIFrame);window.parent.addEventListener("resize",this.resizeIFrame)}};this.promtPassword.submittedPass="";self.promtPassword.eyeActive=false;self.promtPassword.onResize=function(){var calculate=function(num,in_min,in_max,out_min,out_max){var res=(num-in_min)*(out_max-out_min)/(in_max-in_min)+out_min;return Math.max(out_min,Math.min(out_max,res))};var container=self.promtPassword.passwordDivContainer;var width=container.offsetWidth;var scale=calculate(width,100,1200,50,100);self.promtPassword.passwordDivContainerInner.style.transform="scale("+scale/100+")"};this.cleanPromtPassword=function(containerID){var doc=this.detectIframeDocument();var container=doc.getElementById(containerID);var passPromtElement=container.querySelector(".ze_password_promt_container");if(passPromtElement){passPromtElement.parentNode.removeChild(passPromtElement)}};this.showLightbox=function(_object){var obj=getElement(_object);var that=this;var items=this.MediaJSON.items;var lightboxOpened=false,lightboxOpenedOnce=false;if(items.length){if(typeof this.args.fonts!="undefined"&&this.args.fonts!="no"){obj.classList.add("cp-font-"+this.args.fonts);this.loadjscssfile(this.args.fonts,"font","head")}var thewind=this.getContentWindow();thewind.addEventListener("keyup",function(event){var key="which" in event?event.which:event.keyCode;if(event.isComposing||key===27){if(typeof that.skin.onEsc=="function"&&that.skin.onEsc.activeListener===true){that.skin.onEsc(event)}else{closePopup()}return}});function closePopup(){if(!lightboxOpened){return}try{that.skin.player.$media[0].pause()}catch(ex){}fixedContainer.style.display="none";fixedOverlay.style.display="none";closeBtn.style.display="none";doc.body.className=doc.body.className.replace(new RegExp("(\\s|^)cp_overflow_hidden(\\s|$)")," ");try{window.dispatchEvent(new Event("resize"))}catch(ex){}lightboxOpened=false;if(that.args.iframe){if(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement){if(document.exitFullscreen){document.exitFullscreen()}else{if(document.cancelFullScreen){document.cancelFullScreen()}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{if(document.webkitCancelFullScreen){document.webkitCancelFullScreen()}}}}}try{window.dispatchEvent(new Event("resize"))}catch(ex){}}if(typeof that.skin.on_cp_lightbox_close=="function"){that.skin.on_cp_lightbox_close()}}var firstOpen=true;function openPopup(index){fixedContainer.style.display="block";fixedOverlay.style.display="block";closeBtn.style.display="block";that.lightModeEnabled=true;that.loaderParams._object="cp_lightbox_wrap_obj_"+_object;if(firstOpen){that.getMediaJSON();firstOpen=false}doc.body.className+=" cp_overflow_hidden";try{window.dispatchEvent(new Event("resize"))}catch(ex){}lightboxOpened=lightboxOpenedOnce=true;if(that.args.iframe){closeFullScreen()}if(typeof that.skin.on_cp_lightbox_open=="function"){that.skin.on_cp_lightbox_open(index)}}that.startPopupSkin=openPopup;that.closePopupSkin=closePopup;function closeFullScreen(){if(fixedContainerWrap.requestFullscreen){fixedContainerWrap.requestFullscreen()}else{if(fixedContainerWrap.mozRequestFullScreen){fixedContainerWrap.mozRequestFullScreen()}else{if(fixedContainerWrap.webkitRequestFullScreen){fixedContainerWrap.webkitRequestFullScreen()}else{if(fixedContainerWrap.msRequestFullscreen){fixedContainerWrap.msRequestFullscreen()}}}}}this.onSkinEvent("runtime.on-thumbnail-shown");var doc=that.detectIframeDocument();obj.style.overflow="visible";obj.innerHTML="";var thumb=this.MediaJSON.items[0].thumbnail_url;try{thumb=this.MediaJSON.items[0].versions.jpg_1200x900.url}catch(ex){}var img=new Image();img.src=thumb;img.onload=function(){if(this.width<this.height){button.className=button.className+" portrait"}};var fixedContainer=document.createElement("div");fixedContainer.className="cp_lightbox_wrap";var newObj=document.createElement("div");newObj.className="cp_lightbox_wrap_obj";newObj.id="cp_lightbox_wrap_obj_"+_object;fixedContainer.appendChild(newObj);var closeBtn=document.createElement("a");closeBtn.className="cp_lightbox_close_btn";closeBtn.onclick=function(){closePopup()};var fixedOverlay=document.createElement("div");fixedOverlay.className="cp_lightbox_overlay";fixedOverlay.onclick=function(){closePopup()};var button=document.createElement("div");if(that.args.allow_lightbox_fullscreen){fixedContainer.classList.add("cp_lightbox_wrap_fullscreen")}if(that.args.allow_lightbox=="thumbnail"||that.args.allow_lightbox=="video_thumbnail"||that.args.allow_lightbox=="live_poster"){button.className="cp_lightbox_btn";var button_inner=document.createElement("div");button_inner.className="cp_lightbox_btn_inner";var video_play_btn=document.createElement("i");video_play_btn.className="cp_lightbox_video_btn_play";var playButtonColor=that.args.theme_color_main||that.args.theme_color;if(playButtonColor){var styleForPlayButton=document.createElement("style");styleForPlayButton.innerHTML="#cp_lightbox_btn_id_name_"+that.skin.go.loaderParams._object+".cp_lightbox_btn.cp_lightbox_video_btn i.cp_lightbox_video_btn_play{  text-shadow: 6px 6px 40px #"+playButtonColor+", -6px -6px 40px #"+playButtonColor+", 6px -6px 40px #"+playButtonColor+", -6px 6px 40px #"+playButtonColor+";}";var playButtonColor_2=that.args.theme_color_main_2||that.args.theme_color_2;if(playButtonColor_2){styleForPlayButton.innerHTML+="#cp_lightbox_btn_id_name_"+that.skin.go.loaderParams._object+".cp_lightbox_btn.cp_lightbox_video_btn:hover i.cp_lightbox_video_btn_play{						 text-shadow: 6px 6px 40px #004a93, -6px -6px 40px "+playButtonColor_2+", 6px -6px 40px "+playButtonColor_2+", -6px 6px 40px "+playButtonColor_2+";}"}button.appendChild(styleForPlayButton)}if(that.args.allow_lightbox=="video_thumbnail"){button.className+=" cp_lightbox_video_btn";button.style.display="none";button_inner.appendChild(video_play_btn)}var button_img=document.createElement("img");button_img.src=thumb;button_img.onload=function(){button.style.display="block"};button.appendChild(button_inner);button_inner.appendChild(button_img);if(typeof that.args.allow_lightbox_thumbnail_properties!="undefined"){obj.classList.add("cp_thumbnail_properties_"+that.args.allow_lightbox_thumbnail_properties)}if(that.args.allow_lightbox_thumbnail_properties==="fixed"){if(!parseInt(that.args.allow_lightbox_thumbnail_size_w)||!parseInt(that.args.allow_lightbox_thumbnail_size_h)){button.className+=" cp_lightbox_btn_small"}else{button.style.width=that.args.allow_lightbox_thumbnail_size_w+"px";button_inner.style.height=that.args.allow_lightbox_thumbnail_size_h+"px";if(that.args.allow_lightbox_thumbnail_size_w){var scale=8;var fontSize=Math.max(Math.min(100,Math.round(that.args.allow_lightbox_thumbnail_size_w/scale)),20);video_play_btn.style.fontSize=fontSize+"px"}}}else{if(that.args.allow_lightbox_thumbnail_properties==="responsive"){button_inner.style.height="100%";button.style.width="100%";button.style.height="100%"}else{if(that.args.allow_lightbox_size=="small"||that.args.allow_lightbox_size=="medium"){button.className+=" cp_lightbox_btn_"+that.args.allow_lightbox_size}}}}else{if(that.args.allow_lightbox=="text"){button.className="cp_lightbox_btn_btn";button.innerHTML="<p>"+that.args.allow_lightbox_text+"</p>"}else{if(that.args.allow_lightbox=="cincopa_popup"){button.className="cp_lightbox_btn_btn";button.innerHTML=that.args.allow_lightbox_text}}}button.onclick=function(){openPopup()};if(that.args.allow_lightbox=="onexit"&&!that.args.iframe){var c=function(e){var a;e=null!=e?e:window.event;a=e.relatedTarget||e.toElement;return(!a||"HTML"===a.nodeName)&&e.clientY<100?!0:!1};doc.addEventListener("mouseout",function(e){if(c(e)&&!lightboxOpened&&!lightboxOpenedOnce&&!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB10|IEMobile|Opera Mini/i.test(navigator.userAgent))){openPopup()}})}button.setAttribute("id","cp_lightbox_btn_id_name_"+this.skin.go.loaderParams._object);obj.appendChild(button);this.onSkinEvent("context_menu.init",{div_id:"cp_lightbox_btn_id_name_"+this.skin.go.loaderParams._object});if(that.args.iframe){var onfullscreenchange=function(e){var fullscreenElement=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;if(fullscreenElement==null){closePopup()}else{try{parent.window.dispatchEvent(new Event("resize"))}catch(ex){}}};document.addEventListener("fullscreenchange",onfullscreenchange);document.addEventListener("mozfullscreenchange",onfullscreenchange);document.addEventListener("webkitfullscreenchange",onfullscreenchange)}var parentObj;var wrapElement=document.createElement("div");wrapElement.className="cp_outer_wrap";if(!this.args.iframe){parentObj=getElement(this.skin.go.loaderParams._object);obj.appendChild(fixedOverlay);wrapElement.appendChild(fixedContainer);wrapElement.appendChild(closeBtn);doc.body.appendChild(wrapElement)}else{parentObj=this.getParentIframeObject();var fixedContainerWrap=document.createElement("div");fixedContainerWrap.appendChild(fixedContainer);wrapElement.appendChild(fixedContainerWrap);wrapElement.appendChild(closeBtn);doc.body.appendChild(wrapElement)}if(this.args.allow_lightbox=="javascript"){parentObj.style.width=0;parentObj.style.height=0}if(!this.videoThumbnailActivated){this.showVideoThumbnail(obj)}if(typeof that.skin.on_cp_lightbox_init=="function"){that.skin.on_cp_lightbox_init()}}};this.showVideoThumbnail=function(obj){if(this.videoThumbnailActivated||this.args.allow_lightbox!="video_thumbnail"){return}var that=this;var item=that.MediaJSON.items[0];if(!item){return}var tL;if(item.timeline){try{tL=JSON.parse(item.timeline)}catch(ex){}}var start,end;if(tL&&tL.video_thumbnail){if(typeof tL.video_thumbnail.start!=="undefined"){start=tL.video_thumbnail.start}if(typeof tL.video_thumbnail.end!=="undefined"){end=tL.video_thumbnail.end}}obj.classList.add("cp_live_poster");if(typeof this.args.live_poster_title!="undefined"){obj.classList.add("cp_live_poster_with_overlay")}this.videoThumbnailActivated=true;var videoOverlay=document.createElement("div");videoOverlay.className="cp_video_thumbnail_overlay";var videoOverlayBg=document.createElement("div");videoOverlayBg.className="cp_video_thumbnail_overlay_bg";var bgColor=that.args.theme_color_main||that.args.theme_color;if(bgColor){videoOverlayBg.style["background-color"]="#"+bgColor}var videoOverlayContent=document.createElement("div");videoOverlayContent.className="cp_video_thumbnail_overlay_content";var titleEl=document.createElement("p");titleEl.className="cp_video_thumbnail_title";titleEl.innerHTML=that.args.live_poster_title||"";var buttonEl=document.createElement("a");buttonEl.className="cp_video_thumbnail_button";if(bgColor){buttonEl.style.background="#"+bgColor}buttonEl.innerHTML=that.MediaJSON.items.length+" Videos";videoOverlay.appendChild(videoOverlayBg);videoOverlay.appendChild(videoOverlayContent);if(that.args.live_poster_title!=""){videoOverlayContent.appendChild(titleEl)}if(typeof this.args.live_poster_title!="undefined"){videoOverlayContent.appendChild(buttonEl)}var container=document.createElement("div");container.className="cp_video_thumbnail_container";var whereNeedtoAppend=obj.querySelector(".cp_lightbox_btn_inner");whereNeedtoAppend.style.position="relative";whereNeedtoAppend.appendChild(container);var video=document.createElement("video");video.className="cp_video_thumbnail";video.muted=true;video.controls=false;if(typeof start!="undefined"||typeof end!="undefined"){obj.classList.add("cp_live_poster_video");container.appendChild(video)}container.appendChild(videoOverlay);if(typeof start==="undefined"||typeof end==="undefined"){return}var dataURI="";dataURI=masterM3u8DataUri(createM3u8Arr(item));if(dataURI&&is_ie()==11&&(/(Windows 8.1|Windows NT 6.3)/.test(navigator.appVersion)||/(Windows 10.0|Windows NT 10.0)/.test(navigator.appVersion))){dataURI="//www.cincopa.com/media-platform/runtimeze/m3u8.aspx?rid="+json.item.rid}if(isHlsSupported()&&dataURI){var hlsOptions={maxMaxBufferLength:parseInt(this.args.hls_max_buffer_length),autoStartLoad:false};var hls=new Hls(hlsOptions);hls.loadSource(dataURI);hls.attachMedia(video);hls.on(Hls.Events.MANIFEST_PARSED,function(){var videoLevel;videoLevel=getVideoLevel({item:item},hls,obj);hls.loadLevel=videoLevel;hls.startLoad(start);video.play()})}else{if(dataURI&&isNativeHls()){video.src=dataURI}else{video.src=getContentUrl(item)}var played=false;video.cincopaAddEventListener("loadedmetadata",function(){if(!played){this.currentTime=start;this.play();played=true}})}video.cincopaAddEventListener("timeupdate",function(){if(this.currentTime>end){this.currentTime=start}});function getContentUrl(item){var url="";if(item.versions&&item.versions.mp4_hd&&item.versions.mp4_hd.url){url=item.versions.mp4_hd.url}if(!url&&item.versions&&item.versions.original&&item.versions.original.url){url=item.versions.original.url}if(!url){url=item.content_url}return url}function createM3u8Arr(item){var m3u8Arr=[];var ratio=item.aspect_ratio;var counter=10;var versions=item.versions;for(var key in versions){if(versions.hasOwnProperty(key)&&versions[key].mime=="application/x-mpegURL"&&key.indexOf("ts_")!=-1){var resolution="";var h=parseInt(versions[key].name);var w=ratio*h;resolution=w+"X"+h;m3u8Arr.push({url:versions[key].url,display_name:versions[key].name,resolution:resolution,bandwidth:counter});counter++}}return m3u8Arr}function masterM3u8DataUri(m3u8Arr){if(m3u8Arr.length){var e=masterM3u8ContentFromAssets(m3u8Arr);return"data:application/x-mpegURL;base64,"+base64Encode(e)}return false}function masterM3u8ContentFromAssets(m3u8Arr){for(var e="#EXTM3U",s=[],a=0;a<m3u8Arr.length;a++){var i=m3u8Arr[a];s.push("#EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH="+i.bandwidth+",RESOLUTION="+i.resolution+",NAME="+i.display_name+"\n"+i.url)}return e+"\n"+s.join("\n")}function isHlsSupported(){var supported=true;if(typeof Hls=="undefined"||!Hls.isSupported()){supported=false}if(!that.args.enable_hls){supported=false}if(is_ie()&&!is_ie_hls_supported()){supported=false}var chr=function(){return !(!/Chrome/.test(navigator.userAgent)||!/Google Inc/.test(navigator.vendor))&&{version:chromeVersion()}};var chromeVersion=function(){var e=navigator.userAgent.match(/\bChrome\/([^\s]+)/);return e&&e[1]};if(chr()&&parseInt(chr().version)<=50){supported=false}return supported}function isNativeHls(){var riphone=/(iphone)/i,ripad=/(ipad)/i,rwebkit=/(webkit)[ \/]([^\s]+)/i;var iphone=riphone.test(navigator.userAgent);var ipad=ripad.test(navigator.userAgent);var safari=rwebkit.test(navigator.userAgent)&&!/chrome/i.test(navigator.userAgent)&&!ipad&&!iphone;return iphone||ipad||safari}function is_ie(){var ua=window.navigator.userAgent;var edge=ua.indexOf("Edge/");var msie=ua.indexOf("MSIE ");if(msie>0){return parseInt(ua.substring(msie+5,ua.indexOf(".",msie)))}else{if(!!navigator.userAgent.match(/Trident.*rv\:11\./)){return 11}else{if(edge>0){return(parseInt(ua.substring(edge+5,ua.indexOf(".",edge)),10))}}}return false}function is_ie_hls_supported(){var ua=window.navigator.userAgent;var edge=ua.indexOf("Edge/");var msie=ua.indexOf("MSIE ");if(msie>0){var ver=parseInt(ua.substring(msie+5,ua.indexOf(".",msie)));if(ver<11){return false}}else{if(!!navigator.userAgent.match(/Trident.*rv\:11\./)){if(navigator&&(/(Windows 8.1|Windows NT 6.3)/.test(navigator.appVersion)||/(Windows 10.0|Windows NT 10.0)/.test(navigator.appVersion))){return true}}else{if(edge>0){return true}}}return false}function base64Encode(text){var BASE64_KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";for(var t=0,n="";t<text.length;){var r=text.charCodeAt(t++),a=text.charCodeAt(t++),u=text.charCodeAt(t++),l=r>>2,o=(3&r)<<4|a>>4,s=(15&a)<<2|u>>6,i=63&u;isNaN(a)?s=i=64:isNaN(u)&&(i=64),n=n+BASE64_KEY_STR.charAt(l)+BASE64_KEY_STR.charAt(o)+BASE64_KEY_STR.charAt(s)+BASE64_KEY_STR.charAt(i)}return n}function getVideoLevel(json,hls,obj){var videoLevel;var h=obj.offsetHeight;var m3u8Arr=createM3u8Arr(json.item);if(json.item.isVR){videoLevel=getHlsLevel(10000,m3u8Arr);hls.disableResize=false}else{for(var m=0;m<m3u8Arr.length;m++){if(m3u8Arr[m].display_name==zeQuery.cookie("cincopavideoQuality")){videoLevel=m;hls.disableResize=true;break}}if(videoLevel==null){videoLevel=getHlsLevel(h,m3u8Arr);hls.disableResize=false}}return videoLevel}function getHlsLevel(height,m3u8Arr){if(!m3u8Arr.length){return false}var gt=[],lt=[];for(var i=0;i<m3u8Arr.length;i++){var s=parseInt(m3u8Arr[i].display_name);if(!isNaN(s)){if(s<height){lt.push(s)}else{gt.push(s)}}}var nearSize;if(gt.length){nearSize=Math.min.apply(null,gt)}else{if(lt.length){nearSize=Math.max.apply(null,lt)}}var videoLevel;if(nearSize){for(var j=0;j<m3u8Arr.length;j++){var s=parseInt(m3u8Arr[j].display_name);if(m3u8Arr[j].display_name==nearSize+"p"){videoLevel=j;break}}}else{}return videoLevel}};this.getMediaRSSURL=function(par){var link=cincopa._AJAX+"rss200.aspx?fid="+this.args.fid;link+="&thumb="+par.thumb;link+="&content="+par.content;return link};this.buildTabs=function(gallery){var that=gallery;var tabsStr=this.args.allow_tabs_tags;if(this.args.allow_tabs_tags){var tabsArr=tabsStr.split(",").map(function(el){var trimmed=el.trim();return{name:trimmed.indexOf("(")>-1&&trimmed.indexOf(")")>-1?trimmed.substring(0,trimmed.indexOf("(")).trim():trimmed,title:trimmed.indexOf("(")>-1&&trimmed.indexOf(")")>-1?trimmed.substring(trimmed.indexOf("(")+1,trimmed.indexOf(")")).trim():trimmed}})}else{var tabsArr=[];for(var i=0;i<that.MediaJSON.items.length;i++){var current=that.MediaJSON.items[i];var currentTags=current.tags.split(",");for(var j=0;j<currentTags.length;j++){if(currentTags[j]!==""&&tabsArr.indexOf(currentTags[j])===-1){tabsArr.push(currentTags[j])}}}tabsArr=tabsArr.map(function(el){var trimmed=el.trim();return{name:trimmed,title:trimmed}})}var tabsList=document.createElement("ul");tabsList.className="cp_tabs_list";var firstLi=null;for(var i=0;i<tabsArr.length;i++){(function(tab,index){var li=document.createElement("li");li.className="cp_tabs_list_item";li.innerHTML=tab.title;li.onclick=function(){if(li.className.indexOf(" active")>-1){return true}if(tab.name.toLowerCase()==="all"){that.doSearch("clear")}else{that.doSearch("search",tab.name,true)}removeActiveClass(tabsList);li.className+=" active";if(that.args.iframe){that.resizeIFrame()}};tabsList.appendChild(li);if(index===0){firstLi=li}})(tabsArr[i],i)}if(firstLi){setTimeout(function(){firstLi.click()},0)}function removeActiveClass(rootElement){var elements=rootElement.getElementsByClassName("cp_tabs_list_item");for(var i=0;i<elements.length;i++){elements[i].className=elements[i].className.replace(/\bactive\b/g,"")}}return tabsList};this.buildSearchDiv=function(){var that=this;var searchCont=document.createElement("div");searchCont.className="ze_search_cont";searchCont.id="ze_search_cont"+this.loaderParams._object;var searchInput=document.createElement("input");searchInput.type="text";searchInput.className="ze_searchBox";searchInput.value=(that.MediaJSON&&typeof that.MediaJSON.searchVal!="undefined")?that.MediaJSON.searchVal:"";searchInput.style.display="none";searchInput.placeholder="search";var searchClear=document.createElement("span");searchClear.className="ze_search_clear";searchClear.style.cursor="pointer";searchClear.innerHTML="X";searchClear.style.display="none";searchClear.onclick=function(){this.style.display="none";searchInput.value="";searchInput.style.display="none";that.doSearch("clear")};searchCont.appendChild(searchInput);searchCont.appendChild(searchClear);searchInput.onkeyup=function(e){var key="which" in e?e.which:e.keyCode;if(key==27){searchClear.style.display="none";searchInput.value="";searchInput.style.display="none";that.doSearch("clear");return false}searchClear.style.display="inline-block";var value=this.value;if(value.replace(/^\s+|\s+$/g,"")==""){this.setAttribute("data-stop","true")}that.doSearch("search",value)};return searchCont};this.doSearch=function(searchCase,value,byTagOnly){var that=this;if(this.args.iframe=="true"){that=document.getElementById("zeiframe_"+this.loaderParams._object).contentWindow.go}that.orig_json=that.orig_json||that.MediaJSON;var doc=this.detectIframeDocument();var $gallery=doc.getElementById(this.loaderParams._object);$gallery.classList.remove("cp-search-noresult");if(searchCase=="clear"){delete that.orig_json.searchVal;that.skin.onMediaJSON(that.orig_json);if(that.skin.isready>2){that.skin.start()}}else{function filterarray(t,fun){var len=t.length>>>0;var res=[];var thisp=arguments[1];if(t.sortedByTag){for(var j in t){for(var i=0;i<t[j].length;i++){var val=t[j][i];if(fun.call(thisp,val,i,t)){res.push(val)}}}}else{for(var i=0;i<len;i++){if(i in t){var val=t[i];if(fun.call(thisp,val,i,t)){res.push(val)}}}}return res}var sortedArray=filterarray(that.orig_json.items,function(element){var testValue=value.toLowerCase();if(!byTagOnly){return element.title.toLowerCase().indexOf(testValue)>-1||element.description.toLowerCase().indexOf(testValue)>-1||((typeof element.tags!="undefined")?(element.tags.toLowerCase().indexOf(testValue)>-1):false)}else{return((!element.tags&&testValue==="no-tag")||(testValue!=="no-tag"&&typeof element.tags!="undefined"&&(element.tags.toLowerCase().indexOf(testValue)>-1))?true:false)}});if(sortedArray.length==0){$gallery.classList.add("cp-search-noresult");return}else{$gallery.classList.remove("cp-search-noresult")}if(value.replace(/^\s+|\s+$/g,"")==""){that.orig_json.searchVal="";that.skin.onMediaJSON(that.orig_json)}else{that.skin.onMediaJSON({description:that.orig_json.description,title:that.orig_json.title,items:sortedArray,searchVal:value})}if(that.skin.isready>2){that.skin.start()}}};this.stripScripts=function(s){s=s.replace(/\%3C/g,"<").replace(/\%3E/g,">");var div=document.createElement("div");div.innerHTML=s;var scripts=div.getElementsByTagName("script");var i=scripts.length;var scripts_block=[];while(i--){scripts_block.push(scripts[i]);scripts[i].parentNode.removeChild(scripts[i])}return{text:div.innerHTML,scripts:scripts_block}};this.buildUpperPanel=function(){var upper_panel="";if(_cp_go_hooks["before-building-upper-panel"]){upper_panel+=_cp_go_hooks["before-building-upper-panel"](this)}if(this.args.allow_search=="yes"){upper_panel+=" <div id='cp-search-div-"+this.loaderParams._object+"'></div> "}if(this.args.allow_download=="original"||this.args.allow_download=="resized"){var url="https://www.cincopa.com/media-platform/runtime/download.aspx?fid=";if(this.args.cmapath){url+=this.args.cmapath.split("%2F")[1]}upper_panel+=" <a class='cp-download-all-link' href='"+url+"'>Download</a> "}if(this.args.allow_tabs===true||this.args.allow_tabs==="true"){var layout=this.args.allow_tabs_layout||"theme-1";upper_panel+=" <div id='cp-tabs-div-"+this.loaderParams._object+"' class='cp-tabs-div "+layout+"'></div> "}return upper_panel};this.buildLowerPanel=function(){var lower_panel="";var plan_name=this.args.plan_name;if(this.acc&&this.acc.user){plan_name=this.acc.user.plan_name}if(plan_name=="free"){lower_panel='<div style="clear:both;">';lower_panel+='<div style="display: inline-block; vertical-align: middle; margin: 0 .2em 0 1em; position: relative; margin-bottom: 5px;"><div class="g-plusone" data-size="medium" data-href="https://plus.google.com/111463929396015329416"></div></div>';lower_panel+="</div>"}return lower_panel};this.setGalleryHTML=function(htm,isIframeCode){this.onSkinEvent("runtime.on-load-html");function buildUpperPanelContent(gal){if(lower_panel!=""){var po=document.createElement("script");po.type="text/javascript";po.async=true;po.src="https://apis.google.com/js/plusone.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(po,s)}if(doc.getElementById("cp-search-div-"+gal.loaderParams._object)){doc.getElementById("cp-search-div-"+gal.loaderParams._object).appendChild(gal.buildSearchDiv())}if(doc.getElementById("cp-tabs-div-"+gal.loaderParams._object)){doc.getElementById("cp-tabs-div-"+gal.loaderParams._object).appendChild(gal.buildTabs(gal))}}var doc=this.detectIframeDocument();var obj=doc.getElementById(this.loaderParams._object);var obj_cover=null;var g=obj;if(!isIframeCode&&(this.args.iframe||this.iframeParentObject)){g=window.parent.document.getElementById(this.loaderParams._iframeParentObject)}var is_new_embed=false;if(g){obj_cover=g.getElementsByTagName("img")[0];is_new_embed=(" "+g.className+" ").replace(/[\n\t]/g," ").indexOf(" cincopa-fadein ")>-1}if(!this.args.allow_lightbox||this.args.allow_lightbox=="no"){if(this.args.allow_fixpos!="no"&&obj){obj.className+=" "+this.args.allow_fixpos}if(this.args.allow_margins&&obj){var margin=parseFloat(this.args.allow_margins);obj.style.margin=margin+"px auto"}}var inner="<div style='width:"+this.args.widget_w+"px;height:"+this.args.widget_h+"px;' id='inner_"+this.loaderParams._object+"' class='cp_reset_style "+(this.iframeParentObject?"cp_iframe":"")+"'>";inner+=htm;inner+="</div><div style='clear:both;'></div>";var upper_panel=this.buildUpperPanel();var lower_panel=this.buildLowerPanel();if(upper_panel!=""){upper_panel="<div class='cp-upper-panel'>"+upper_panel+"</div>"}if(this.iframeParentObject&&!this.galleryFrameLoaded){var ifrm=parent.document.getElementById("zeiframe_"+this.iframeParentObject);if(ifrm!==null){ifrm.style.width=this.args.widget_w?this.args.widget_w+"px":"";ifrm.style.height=this.args.widget_h?this.args.widget_h+"px":""}inner=upper_panel+inner+lower_panel;obj.insertAdjacentHTML("beforeend",inner);buildUpperPanelContent(this);this.galleryFrameLoaded=true}else{if(this.galleryFrameLoaded){obj=doc.getElementById("inner_"+this.loaderParams._object);obj.innerHTML=htm}else{if(this.galleryFrameLoaded){obj=doc.getElementById("inner_"+this.loaderParams._object);obj.innerHTML+=htm}else{if(!isIframeCode){inner=upper_panel+inner+lower_panel;this.galleryFrameLoaded=true}if(obj){if(is_new_embed){obj.insertAdjacentHTML("beforeend",inner)}else{obj.innerHTML=inner}}else{return}try{cincopa.testtrack(this.uid)}catch(ex){}if(!isIframeCode){buildUpperPanelContent(this)}}}}if(typeof this.args.fonts!="undefined"&&this.args.fonts!="no"){obj.classList.add("cp-font-"+this.args.fonts)}if(is_new_embed&&obj_cover){obj.style.position="relative";obj_cover.parentNode.style.background="#fff";obj_cover.parentNode.style.position="absolute";obj_cover.parentNode.style.top="0";obj_cover.parentNode.style.left="0";obj_cover.parentNode.style.zIndex="10";obj_cover.parentNode.style.transition="opacity 800ms ease 0s";if(!isIframeCode){setTimeout(function(){obj_cover.parentNode.style.opacity="0";setTimeout(function(){obj_cover.parentNode&&obj_cover.parentNode.removeChild(obj_cover)},800)},400)}}this.onSkinEvent("runtime.on-html-loaded")};this.remove=function(){cincopa.removeGalleryById(this.loaderParams._object)};this.loadSkinCSS=function(cssname){this.loadjscssfile(this.skinPath+cssname,"css")};this.loadSkinJS=function(jsname){this.loadjscssfile(this.skinPath+jsname,"js","head")};this.loadSkinJSSequence=function(jsnames,callback){var ns=[];for(var i=0;i<jsnames.length;i++){var name=jsnames[i];ns.push(this.skinPath+name)}return this.loadScript(ns,callback)};this.loadjscssfile=function(filename,filetype,where,onloadfunc){var filepath=filename.split(".cincopa.com")[1];if(!filepath){filepath=filename}if(_cp_preloaded_files[filepath]==true){if(onloadfunc!=null){_trace("already loaded "+filename+"...");onloadfunc()}else{_trace("already loaded (without callback) "+filename+"...")}return}else{_trace("loading "+filename+"...");cincopa.halt_preloader_alert=cincopa.halt_preloader_alert||false;if(!cincopa.halt_preloader_alert&&!cincopa.qs.cpdisablepreload&&filename.indexOf("preload.js")==-1&&filename.indexOf("preload.css")==-1&&filename.indexOf("jsonv2.aspx")==-1&&filename.indexOf("libasync_old.js")==-1&&filename.indexOf("json.aspx")==-1&&filename.indexOf(".gif")==-1&&filename.indexOf(".png")==-1&&filename.indexOf(".svg")==-1){cincopa.logError("preloader_missing6",filepath);cincopa.halt_preloader_alert=true}}var fileref;if(filetype=="js"){fileref=document.createElement("script");fileref.setAttribute("type","text/javascript");var fp=filename;fileref.setAttribute("src",fp);if(typeof onloadfunc!="undefined"){if(fileref.attachEvent){fileref.onreadystatechange=function(){_cp_preloaded_files[filepath]=true;if(fileref.readyState=="loaded"||fileref.readyState=="complete"){onloadfunc()}};fileref.attachEvent("onerror",function(){cincopa.trace("js load error: "+filename)})}else{if(fileref.addEventListener){fileref.cincopaAddEventListener("load",function(){_cp_preloaded_files[filepath]=true;onloadfunc();this.cincopaRemoveAllEventListeners()},false);fileref.cincopaAddEventListener("error",function(){cincopa.trace("js load error: "+filename);this.cincopaRemoveAllEventListeners()},false)}}}}else{if(filetype=="css"){_cp_preloaded_files[filepath]=true;fileref=document.createElement("link");fileref.setAttribute("rel","stylesheet");fileref.setAttribute("type","text/css");fileref.setAttribute("href",filename)}else{if(filetype=="font"){function doesFontExist(doc,filename){var fontName=cincopa.fontsList[filename]["font-family"];var fontExist=false;var allLinks=doc.querySelectorAll('link[data-fontname="'+filename+'"]');for(var i=0;i<allLinks.length;i++){if(allLinks[i].getAttribute("data-fontname")==filename){fontExist=true;break}}if(fontExist){return fontExist}var canvas=doc.createElement("canvas");var context=canvas.getContext("2d");var text="abcdefghijklmnopqrstuvwxyz0123456789";context.font="72px monospace";var baselineSize=context.measureText(text).width;context.font="72px "+fontName.split(",")[0]+", monospace";var newSize=context.measureText(text).width;delete canvas;if(newSize==baselineSize){return false}else{return true}}var fonthref="";if(filename!="no"&&typeof cincopa.fontsList[filename]!="undefined"){if(doesFontExist(this.detectIframeDocument(),filename)){return}fonthref=cincopa.fontsList[filename].font;fileref=document.createElement("link");fileref.setAttribute("rel","stylesheet");fileref.setAttribute("href",fonthref);fileref.setAttribute("data-fontname",filename)}}}}if(typeof fileref!="undefined"){if(where=="head"){document.getElementsByTagName("head")[0].appendChild(fileref)}else{document.getElementsByTagName("body")[0].appendChild(fileref)}}};this.loadScript=function(){var self=this;var scripts=[];var callback=null;for(var i=0;i<arguments.length;i++){var v=arguments[i];switch(typeof v){case"string":scripts.push(v);break;case"function":callback=v;break}if(v instanceof Array){for(var n=0;n<v.length;n++){scripts.push(v[n])}}}if(scripts.length==0){if(callback){callback()}this.onSkinEvent("skin.loadjscssfile");return}var script=scripts.shift();this.loadjscssfile(script,"js","body",function(){_trace("LOADED: "+script);self.loadScript(scripts,callback)});return true};this.namedSize=function(w,h){var thumb="small";if(w<=100&&h<=75){thumb="small"}else{if(w<=200&&h<=150){thumb="medium"}else{if(w<=600&&h<=450){thumb="large"}else{thumb="xlarge"}}}return thumb};this.pushEventToGA=function(label){if(this.args.ga_event!="on"){return}try{cincopa.trace("pushEventToGA - "+this.MediaJSON.title+" ("+this.args.fid+") label - "+label);if(typeof parent.window._gaq!="undefined"){parent.window._gaq.push(["_trackEvent","Cincopa Galleries",this.MediaJSON.title+" ("+this.args.fid+")",label])}else{if(typeof parent.window.ga!="undefined"){var trackerName=parent.window.ga.getAll()[0].get("name");parent.window.ga(trackerName+".send","event","Cincopa Galleries",this.MediaJSON.title+" ("+this.args.fid+")",label)}else{if(typeof parent.window.__gaTracker!="undefined"){parent.window.__gaTracker("send","event","Cincopa Galleries",this.MediaJSON.title+" ("+this.args.fid+")",label)}}}}catch(ex){}};this.init_video_play_stats=function(data){cincopa.cp_media_hm[data.uid]=cincopa.cp_media_hm[data.uid]||{};cincopa.cp_media_hm[data.uid][data.item.rid]=cincopa.cp_media_hm[data.uid][data.item.rid]||{};cincopa.cp_media_hm[data.uid][data.item.rid]["hmid"]=cincopa.cp_media_hm[data.uid][data.item.rid]["hmid"]||((new Date()).getTime()+":"+Math.random().toString().substring(2));cincopa.cp_media_hm[data.uid][data.item.rid]["hm"]=cincopa.cp_media_hm[data.uid][data.item.rid]["hm"]||[];cincopa.cp_media_hm[data.uid][data.item.rid]["dur"]=cincopa.cp_media_hm[data.uid][data.item.rid]["dur"]||cincopa.cp_hmsToSecondsOnly(data.item.duration);cincopa.cp_media_hm[data.uid][data.item.rid]["cap"]=cincopa.cp_media_hm[data.uid][data.item.rid]["cap"]||data.item.title;cincopa.cp_media_hm[data.uid][data.item.rid]["firstsend"]=cincopa.cp_media_hm[data.uid][data.item.rid]["firstsend"]||false;cincopa.cp_media_hm[data.uid][data.item.rid]["lastpos"]=cincopa.cp_media_hm[data.uid][data.item.rid]["lastpos"]||-1;cincopa.cp_media_hm[data.uid][data.item.rid]["totaluniqueseconds"]=cincopa.cp_media_hm[data.uid][data.item.rid]["totaluniqueseconds"]||0;cincopa.cp_media_hm[data.uid][data.item.rid]["commit"]=false};this.get_all_video_play_stats=function(){var prog={};for(var i=0;i<this.MediaJSON.items.length;i++){var item=this.MediaJSON.items[i];if(item.content_type.startsWith("video")&&cincopa.cp_media_hm[this.uid][item.rid].lastpos>-1){prog[item.rid]=this.get_video_play_stats({second:cincopa.cp_media_hm[this.uid][item.rid].lastpos,uid:this.uid,item:item})}}return prog};this.get_video_play_stats=function(eventData){var hmd=this.getContentWindow().cincopa.cp_media_hm[eventData.uid];var tmp={current_progress_sec:typeof eventData.second!=="undefined"?eventData.second:hmd[eventData.item.rid].lastpos,completion_sec:hmd?hmd[eventData.item.rid].totaluniqueseconds:null,duration_sec:cincopa.cp_hmsToSecondsOnly(eventData.item.duration),hm_range:hmd?hmd[eventData.item.rid].hmrange:null};tmp.completion_percent=Math.ceil(tmp.completion_sec/tmp.duration_sec*100);tmp.current_completion_percent=Math.ceil((tmp.current_progress_sec+1)/tmp.duration_sec*100);return tmp};this.set_video_play_stats=function(eventData,hm_range){var thewind=this.getContentWindow();var item=thewind.cincopa.cp_media_hm[eventData.uid][eventData.item.rid];item.commit=false;item.totaluniqueseconds=0;item.hmrange=hm_range;var pair=hm_range.split(",");for(var i=0;i<pair.length;i++){var prange=pair[i].split(":");var range=prange[0].split("-");var times=prange.length==1?1:parseInt(prange[1]);if(range.length==1){item.hm[parseInt(range[0])]=times;item.totaluniqueseconds++}else{for(var x=parseInt(range[0]);x<=parseInt(range[1]);x++){item.hm[x]=times;item.totaluniqueseconds++}}}};this.getContentWindow=function(){if(this.args.iframe=="true"){var zeiframe=document.getElementById("zeiframe_"+this.loaderParams._object);if(zeiframe){return zeiframe.contentWindow}}else{return window}};this.detectIframeDocument=function(){var doc=document;if(this.args.iframe=="true"){var zeiframe=document.getElementById("zeiframe_"+this.loaderParams._object);if(zeiframe){var doc=zeiframe.contentDocument;if(doc==undefined||doc==null){doc=zeiframe.contentWindow.document}}}else{try{var iframes=parent.document.getElementsByTagName("iframe");if(iframes!=null){for(var i=0;i<iframes.length;i++){if(iframes[i].getAttribute("data-cincoiframe")==this.args.fid&&this.args.fid){var doc=iframes[i].contentDocument;if(doc==undefined||doc==null){doc=iframes[i].contentWindow.document}break}}}}catch(ex){}}return doc};this.trackEvent=function(label){this.onSkinEvent("skin."+label.toLowerCase().replace(/ /g,"-"),"obsolete trackEvent() from skin")};this.onSkinEvent=function(name,data){var nspace=name.substr(0,name.indexOf("."));var gallery=this;data=data||{};data.id=gallery.args.fid;if(this.iframeParentObject){data.container_id=this.iframeParentObject}else{data.container_id=this.loaderParams._object}try{data.uid=gallery.uid}catch(ex){data.uid="unknown"}var wind=window;try{if(parent.location.protocol&&typeof parent.cincopa!=="undefined"&&window.location.hostname!="www.cincopa.com"){wind=parent.window}}catch(ex){}try{cincopa.trace2("ilib","onSkinEvent - "+name,data);for(var i=0;i<wind.cincopa.registeredFunctions.length;i++){if(wind.cincopa.registeredFunctions[i].filter=="*"){try{eval(wind.cincopa.registeredFunctions[i].func)(name,data,gallery)}catch(ex){cincopa.logException("event "+name,ex)}}else{if(wind.cincopa.registeredFunctions[i].filter.indexOf(name)>-1||wind.cincopa.registeredFunctions[i].filter.indexOf(nspace+".*")>-1){try{eval(wind.cincopa.registeredFunctions[i].func)(name,data,gallery)}catch(ex){cincopa.logException("event "+name,ex)}}}}}catch(ex){cincopa.trace2("clib","onSkinEvent exception",ex)}};this.isIOS=function(){return navigator.userAgent.indexOf("iPod;")>-1||navigator.userAgent.indexOf("iPhone;")>-1||navigator.userAgent.indexOf("iPad;")>-1};this.isAndroid=function(){return navigator.userAgent.indexOf("Linux; U; Android")>-1};this.isFlash=function(major,minor,build){return false};this.getSkin=function(){var zeiframe=document.getElementById("zeiframe_"+this.loaderParams._object);if(zeiframe){return zeiframe.contentWindow.zeGalleryArray.inneriframe.skin}return this.skin};this.reportProblem=function(div_id){var doc=this.detectIframeDocument();var container=doc.getElementById(div_id);var position=window.getComputedStyle(container).getPropertyValue("position");if(position!="fixed"&&position!="absolute"){container.style.position="relative"}var reportDiv=document.createElement("div");reportDiv.className="ze_overlay_placeholder";reportDiv.id="ze_report_placeholder";var reportdivCont=document.createElement("div");reportdivCont.className="ze_overlay_container_div";var reportdivContainerContent=document.createElement("div");reportdivContainerContent.className="ze_overlay_container_report_content";var reportdivForm=document.createElement("div");reportdivForm.className="ze_htmloverlay_report_form";var reportdivFormTitle=document.createElement("p");reportdivFormTitle.className="ze_htmloverlay_report_form_text";reportdivFormTitle.innerHTML="Oops something went wrong? which of these best describes the problem?";var reportdivTextarea=document.createElement("textarea");reportdivTextarea.placeholder="";var reportdivDropdown=document.createElement("select");reportdivDropdown.name="problem_category";var reportdivDropdownOptions=["Video/audio fails to play","Gallery doesn't load at all","Video/audio plays but frequently stutters","Video has poor quality","Image doesn't load","Other"];reportdivDropdown.innerHTML="<option value=''>Choose one</option>";for(var i=0;i<reportdivDropdownOptions.length;i++){reportdivDropdown.innerHTML+="<option value='"+reportdivDropdownOptions[i]+"'>"+reportdivDropdownOptions[i]+"</option>"}var reportdivSendBtn=document.createElement("input");reportdivSendBtn.type="submit";reportdivSendBtn.value="Send";reportdivSendBtn.className="ze_reportProblemCancel";var reportdivCncBtn=document.createElement("input");reportdivCncBtn.type="submit";reportdivCncBtn.value="Cancel";reportdivCncBtn.className="ze_reportProblemSubmit";var reportdivErrorMsg=document.createElement("p");reportdivErrorMsg.className="ze_report_form_error_msg";reportdivErrorMsg.innerHTML="Please select a category";reportdivErrorMsg.style.display="none";reportdivForm.appendChild(reportdivFormTitle);reportdivForm.appendChild(reportdivDropdown);reportdivForm.appendChild(reportdivTextarea);reportdivForm.appendChild(reportdivSendBtn);reportdivForm.appendChild(reportdivCncBtn);reportdivForm.appendChild(reportdivErrorMsg);reportdivContainerContent.appendChild(reportdivForm);reportdivCont.appendChild(reportdivContainerContent);reportDiv.appendChild(reportdivCont);container.appendChild(reportDiv);var eventName=cincopa.hasTouch()?"touchstart":"click";reportdivCncBtn.cincopaAddEventListener(eventName,function(e){e.preventDefault();e.stopPropagation();reportDiv.outerHTML="";delete reportDiv});reportdivSendBtn.cincopaAddEventListener(eventName,function(e){e.preventDefault();e.stopPropagation();reportdivErrorMsg.style.display="none";reportdivDropdown.className="";var url="https://www.cincopa.com/media-platform/send-report-email";var details=reportdivTextarea.value?reportdivTextarea.value:"";var problem_category=reportdivDropdown.value?reportdivDropdown.value:"";if(problem_category){var params={http_method:"GET",title:"Report a problem",action:"Report a problem",pagepath:location.href,problem_category:problem_category,details:details};Ajax(url,params,function(res){});reportDiv.outerHTML="";delete reportDiv}else{reportdivErrorMsg.style.display="inline-block";reportdivDropdown.className="problem_error_style"}});reportDiv.cincopaAddEventListener("contextmenu",function(e){e.preventDefault();e.stopPropagation()})};this.copyLinkAndThumb=function(gal){var doc=this.detectIframeDocument();var text="";var href=location.origin+location.pathname,thumb="https://www.cincopa.com/media-platform/api/thumb.aspx?size=large&fid="+this.loaderParams._fid+"&trs=play",title=gal.args.folder_name;if(location.search){href+=location.search+"&cpembed="+this.loaderParams._fid}else{href+="?cpembed="+this.loaderParams._fid}if(this.loaderParams._fid&&this.loaderParams._fid.indexOf("!")>-1&&!this.loaderParams._fid.startsWith("rrid:")){if(this.MediaJSON.items[0]){title=this.MediaJSON.items[0].title||title}}text+='<p><a href="'+href+'"><img src="'+thumb+'" width="400" height="250" style="width: 400px; height: 250px;"></a></p>';text+='<p><a href="'+href+'">'+title+"</a></p>";cincopa.copyToClipboard(text,doc)};function query(op,params,callback){if(typeof params=="function"){callback=params;params={}}params.fid=self.args.fid;params.logged_user_cred=self.args.logged_user_cred;new Ajax(cincopa._AJAX+op,params,function(r){function json(data){try{return eval("("+data+");")}catch(e){return{error:"Invalid JSON format\n"+data,success:false}}}callback(json(r))})}function pquery(op,params,callback){if(pquery.count===undefined){pquery.count=0}else{pquery.count++}var callback_name="__pquery_temp_callback_"+pquery.count;window[callback_name]=function(){callback.apply(this,arguments);try{delete window[callback_name]}catch(e){window[callback_name]=undefined}};params.callback=callback_name;go.loadScript(op+"?"+params_encode(params));function params_encode(params){var out=[];for(var k in params){var v=params[k];out.push(k+"="+encodeURIComponent(v))}return out.join("&")}}this.merge_json=function(o1,o2,o3){var o={};for(var z in o1){o[z]=o1[z]}for(var z in o2){o[z]=o2[z]}for(var z in o3){o[z]=o3[z]}return o}}function zeOnMediaJSON(c,b){var a=zeGalleryArray[c];a.MediaJSON=b;a.zeOnMediaJSON()}function Ajax(g,c,a){var b=g.match(/http:\/\/([\w\d-\.]+)/);if(b){b=b[0]}if(navigator.userAgent.match(/MSIE/)){f()}else{e()}function f(){var h=new XDomainRequest();h.open("post",g);h.onload=function(){a(h.responseText)};h.send(d(c))}function e(){var k=new XMLHttpRequest();var l="POST";var j="application/x-www-form-urlencoded";if(c.http_method){l=c.http_method;delete c.http_method}if(c.dataType=="json"){j="application/json; charset=UTF-8";delete c.dataType}if(l.indexOf("_JSON")>-1){c=cincopa.json_stringify(c);l=l.split("_")[0];j="application/json; charset=UTF-8"}else{c=d(c)}if(l=="GET"&&c!=""){g+="?"+c}var h="";if(cincopa.analytics_filter_ip){h+="&analytics_filter_ip="+cincopa.analytics_filter_ip}if(cincopa.analytics_anonymize_ip){h+="&analytics_anonymize_ip="+cincopa.analytics_anonymize_ip}if(h!=""){g+=(g.indexOf("?")>-1?"":"?")+h}k.open(l,g,true);if(l=="POST"||l=="PUT"){k.setRequestHeader("Content-type",j);k.send(c)}else{k.send(null)}k.onreadystatechange=function(){cincopa.trace("Ajax onreadystatechsange "+k.readyState+" "+k.status);if(k.readyState==4){switch(k.status){case 200:case 201:case 204:a(k.responseText);break;default:cincopa.trace("http request failed: "+k.status)}}}}function d(l){var j=[];for(var h in l){var m=l[h];j.push(h+"="+encodeURIComponent(m))}return j.join("&")}}cincopa.measure_what={"libasync.js":{},"widgetasync.aspx":{},"json.aspx":{},"meta_json.aspx":{},"preload.aspx?type=js":{},"preload.aspx?type=css":{}};cincopa.measure_send={url:cincopa.location(),d:[]};cincopa.measure_benchmark={src:atob("aHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9jaHJvbWUvYXNzZXRzL2NvbW1vbi9pbWFnZXMvbWFycXVlZS9iZW5lZml0cy00LmpwZw=="),sent:false,ok:false,limit:1200};cincopa.measure_alert=function(){if(!window.performance.getEntries||!window.performance.getEntries){cincopa.trace("performance api isn't supported");return}try{var c=window.performance.getEntries();for(var b in c){if(c[b].name.indexOf(cincopa.measure_benchmark.src)>-1&&!cincopa.measure_benchmark.ok){cincopa.measure_benchmark.ok=c[b].duration<cincopa.measure_benchmark.limit;cincopa.measure_send.benchmark=Math.round(c[b].duration)}else{for(var g in cincopa.measure_what){if(!cincopa.measure_what[g]["found"]&&c[b].name.toString().indexOf(g)>-1&&c[b].duration>8000){cincopa.trace("measure "+g,c[b]);cincopa.measure_what[g]["found"]=true;var f=c[b].name.split(/[\/:]/);cincopa.measure_send.d.push({name:g,dur:Math.round(c[b].duration),proto:f[0],host:f[3]})}}}}if(cincopa.measure_send.d.length>0){if(!cincopa.measure_benchmark.sent){var e=new Image(1,1);e.src=cincopa.measure_benchmark.src+"?rand="+Math.random();cincopa.measure_benchmark.sent=true}else{if(cincopa.measure_benchmark.ok){cincopa.trace("sending ",cincopa.json_stringify(cincopa.measure_send));cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/os.aspx?a="+cincopa.json_stringify(cincopa.measure_send));cincopa.measure_send.d=[]}}}}catch(d){}setTimeout(cincopa.measure_alert,5000)};cincopa.registerEvent("cincopa.cp_evt_mediaplay","video.*",0);cincopa.registerEvent("cincopa.cp_evt_mediaplay","audio.*",0);cincopa.registerEvent("cincopa.cp_evt_mediaplay","chromecast.*",0);cincopa.cp_evt_mediaplay=function(d,a,c){if((d=="video.load"||d=="audio.load")&&!cincopa.disable_analytics){try{var f="unknown";try{f=a.version.name}catch(b){}var e=c.uid;cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/oa.aspx?uid="+e+"&fid=ohit"+a.item.rid+"&setref="+encodeURIComponent(cincopa.location())+"&mtc=rid"+e+",ridtotals|host|sua|cc&mtce=vid_res,"+f)}catch(b){}}if(d=="chromecast.detected"){}if(d=="video.play"&&a.second==0){a.annotation={remove_all:true};c.onSkinEvent("annotation.hide",a)}};cincopa.emailgate={skip:function(e){e.emailgateskip=true;var c=e.detectIframeDocument();var f="ze_htmloverlay_placeholder_"+e.loaderParams._object;var b=c.getElementById(f);if(b){b.style.opacity="0"}var a=c.getElementById(e.loaderParams._object);if(a){setTimeout(function(){cincopa.emailgate.hide(e);a.classList.remove("cp_form_opened_transition")},500)}a.classList.remove("cp_form_opened");var d=document.createEvent("CustomEvent");d.initCustomEvent("resize",true,true);window.dispatchEvent(d);if(e.playerAPI){e.playerAPI.play()}},hide:function(b){var c="ze_htmloverlay_placeholder_"+b.loaderParams._object;var a=b.detectIframeDocument().getElementById(c);if(a){a.innerHTML="";a.style.display="none"}}};cincopa.registerEvent(function(p,m,v){var k="ze_htmloverlay_placeholder_"+v.loaderParams._object;var I=m.overlay.params;var n=v.detectIframeDocument();var e=n.getElementById(k);if(!e){return}var x="";var R="";var b,B,u="";if(typeof I=="undefined"){b=true;B=false}else{b=I.allowSkip;B=I.isDefaultForm;u=I.listId}var t=I.formFields||[];t=t.sort(function(f,j){return f.displayOrder-j.displayOrder});if(B){x+="<div class='ze_htmloverlay_form'>";if(I.upper_html){x+="<p id='ze_htmloverlay_form_upper'>"+I.upper_html+"</p>"}var K=t.filter(function(f){return f.required===true}).length;var E;for(var y=0;y<t.length;y++){if(t[y]["name"]!="submit"){if(!R){R+=t[y]["name"]}else{R+=","+t[y]["name"]}}var w=t[y].hidden?"cp-hide":"";if(t[y].label&&t[y].required){E=t[y].label+" *"}else{E=t[y].label}if(v.args.html_overlay_placeholder!=="title_and_placeholder"&&(t[y].fieldType==="text"||t[y].fieldType==="textarea"||t[y].fieldType==="select")){E=""}if(t[y].fieldType==="text"){x+="<div data-index='"+y+"' class='ze_htmloverlay_form_wrap "+w+"' id='"+(t[y].name?"ze_htmloverlay_form_wrap_"+t[y].name:"")+"'><label class='text-label' for='"+(t[y].name?"ze_htmloverlay_form_"+t[y].name:"")+"'>"+(E||"")+"</label><input data-name='"+t[y].name+"' data-required='"+t[y].required+"' type='text' id='"+(t[y].name?"ze_htmloverlay_form_"+t[y].name:"")+"' name='"+(t[y].name||"")+"' placeholder='"+(t[y].placeholder||t[y].label||"")+"' value='"+(t[y].defaultValue||"")+"' /></div>"}else{if(t[y].fieldType==="submit"){x+="<div data-index='"+y+"' class='ze_htmloverlay_form_wrap "+w+"' id='"+(t[y].name?"ze_htmloverlay_form_wrap_"+t[y].name:"")+"'><label class='text-label'></label><input type='submit' id='"+(t[y].name?"ze_htmloverlay_form_"+t[y].name:"")+"' name='"+(t[y].name||"")+"' value='"+(I.button_text||"")+"' />"+(K?"<span class='error-message'>Please fill out all required fields</span>":"")+"</div>"}else{if(t[y].fieldType==="textarea"){x+="<div data-index='"+y+"' class='ze_htmloverlay_form_wrap "+w+"' id='"+(t[y].name?"ze_htmloverlay_form_wrap_"+t[y].name:"")+"'><label class='text-label' for='"+(t[y].name?"ze_htmloverlay_form_"+t[y].name:"")+"'>"+(E||"")+"</label><textarea data-name='"+t[y].name+"' data-required='"+t[y].required+"' type='text' id='"+(t[y].name?"ze_htmloverlay_form_"+t[y].name:"")+"' name='"+(t[y].name||"")+"' placeholder='"+(t[y].placeholder||t[y].label||"")+"' >"+(t[y].defaultValue||"")+"</textarea></div>"}else{if(t[y].fieldType==="checkbox"){x+="<div data-index='"+y+"' class='ze_htmloverlay_form_wrap ze_htmloverlay_form_wrap_list "+w+"' id='"+(t[y].name?"ze_htmloverlay_form_wrap_"+t[y].name:"")+"'>";x+="<span>"+(E||"")+"</span>";if(t[y].options){for(var G in t[y].options){x+="<label class='ze_htmloverlay_form_checkbox_wrap'>";x+="<input data-name='"+t[y].name+"' type='checkbox' id='"+(t[y].name?"ze_htmloverlay_form_"+t[y].name+"_"+G:"")+"' name='"+(t[y].name||"")+"' value='"+t[y].options[G].value+"' />";x+="<span>"+t[y].options[G].label+"</span>";x+="</label>"}}x+="</div>"}else{if(t[y].fieldType==="booleancheckbox"){x+="<div data-index='"+y+"' class='ze_htmloverlay_form_wrap ze_htmloverlay_form_wrap_list "+w+"' id='"+(t[y].name?"ze_htmloverlay_form_wrap_"+t[y].name:"")+"'>";x+="<label class='ze_htmloverlay_form_checkbox_wrap'>";x+="<input class='booleancheckbox' data-name='"+t[y].name+"' type='checkbox' data-required='"+t[y].required+"' id='"+(t[y].name?"ze_htmloverlay_form_"+t[y].name:"")+"' name='"+(t[y].name||"")+"' />";x+="<span>"+E||"</span>";x+="</label>";x+="</div>"}else{if(t[y].fieldType==="radio"){x+="<div data-index='"+y+"' class='ze_htmloverlay_form_wrap ze_htmloverlay_form_wrap_list "+w+"' id='"+(t[y].name?"ze_htmloverlay_form_wrap_"+t[y].name:"")+"'>";x+="<span>"+(E||"")+"</span>";if(t[y].options){for(var G=0;G<t[y].options.length;G++){var c="";if((!t[y].defaultValue&&G==0)||(t[y].defaultValue&&t[y].options[G].value===t[y].defaultValue)){c=" checked "}x+="<label class='ze_htmloverlay_form_checkbox_wrap'>";x+="<input data-name='"+t[y].name+"' data-required='"+t[y].required+"' type='radio' id='"+(t[y].name?"ze_htmloverlay_form_"+t[y].name+"_"+G:"")+"' name='"+(t[y].name||"")+"' value='"+t[y].options[G].value+"' "+c+" />";x+="<span>"+t[y].options[G].label+"</span>";x+="</label>"}}x+="</div>"}else{if(t[y].fieldType==="select"){x+="<div data-index='"+y+"' class='ze_htmloverlay_form_wrap ze_htmloverlay_form_wrap_list "+w+"' id='"+(t[y].name?"ze_htmloverlay_form_wrap_"+t[y].name:"")+"'>";if(!E){x+="<label class='text-label'></label>"}else{x+="<span>"+(E||" ")+"</span>"}if(t[y].options){x+="<select data-name='"+t[y].name+"' data-required='"+t[y].required+"' id='"+(t[y].name?"ze_htmloverlay_form_"+t[y].name+"_"+G:"")+"' name='"+(t[y].name||"")+"'>";if(t[y].unselectedLabel){x+="<option value=''>"+t[y].unselectedLabel+"</option>"}for(var G in t[y].options){var H=t[y].options[G].value.replace(/'/g,'"');x+="<option value='"+H+"'>"+t[y].options[G].label+"</option>"}x+="</select>"}x+="</div>"}}}}}}}}if(I.upper_html){x+="<p id='ze_htmloverlay_form_lower'>"+I.lower_html+"</p>"}x+="</div>"}else{x=v.args.html_overlay_html}cincopa.logFeature("emailgate");var C=t.some(function(f){return f.isSmartField===true});var O=false;var l=cincopa.inBetween(document.cookie,"cp_leadgen_"+u+"=",";");if(l&&!cincopa.wizard_mode){var S=R.split(",");for(var y=0;y<S.length;y++){var Q=S[y];if(l&&l.indexOf(Q)==-1){O=false;break}else{O=true}}}if(O&&!C){return}cincopa.emailgate.hide(v);if(b){var d=document.createElement("a");d.innerHTML="X";d.className="ze_overlay_close_btn";e.appendChild(d);d.onclick=function(){v.onSkinEvent("emailgate.skip",m)}}var g=document.createElement("div");g.className="ze_overlay_container_div "+v.args.html_overlay_fields;if(!B){g.className+=" ze_overlay_container_div_custom_form"}var h=document.createElement("div");h.className="ze_overlay_container_div_content";var J=v.stripScripts(x);h.innerHTML=J.text;g.appendChild(h);e.style.opacity="1";e.style.display="block";e.appendChild(g);for(var D=0;D<J.scripts.length;D++){var L=document.createElement("script");L.type="text/javascript";if(J.scripts[D].src){L.src=J.scripts[D].src}L.text=J.scripts[D].text;e.appendChild(L)}var r=e.querySelectorAll(".ze_htmloverlay_form_wrap");for(var q=0;q<r.length;q++){var z=r[q].getAttribute("data-index");z=parseInt(z);var s=t[z].fieldWidth||"50";r[q].style.width=s+"%"}if(B){var N=e.querySelector('input[type="submit"]');var A=e.querySelectorAll("input");var P=e.querySelectorAll("textarea");var M=e.querySelectorAll("select");var F=Array.prototype.slice.call(A).concat(Array.prototype.slice.call(P)).concat(Array.prototype.slice.call(M));for(var y=0;y<F.length;y++){if(F[y]){F[y].cincopaAddEventListener("keydown",function(f){f.stopPropagation()})}}N.cincopaAddEventListener("click",function(j){j.preventDefault();var X={containerId:k,listId:I.listId};var Y=e.querySelectorAll("input[type='text']");var ab=e.querySelectorAll("textarea");var W=e.querySelectorAll("input[type='checkbox']:not(.booleancheckbox)");var V=e.querySelectorAll("input[type='checkbox'].booleancheckbox");var Z=e.querySelectorAll("input[type='radio']");var aa=e.querySelectorAll("select");var af=Array.prototype.slice.call(Y).concat(Array.prototype.slice.call(ab)).concat(Array.prototype.slice.call(aa));var ae=Array.prototype.slice.call(W).concat(Array.prototype.slice.call(Z));X.values={};var ad=true;var T="";for(var ac=0;ac<af.length;ac++){if(af[ac]){var ag=af[ac].getAttribute("data-name");var ai=af[ac].getAttribute("data-required");if(ag){X.values[ag]=af[ac].value}if(ai==="true"){if(!af[ac].value){ad=false;T="Please fill out all required fields";af[ac].classList.add("invalid")}else{af[ac].classList.remove("invalid")}}if(ag&&ag.indexOf("email")>-1){var ah=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(!ah.test(af[ac].value)){ad=false;T="Please enter valid email address";af[ac].classList.add("invalid")}else{af[ac].classList.remove("invalid")}}}}for(var ac=0;ac<ae.length;ac++){if(ae[ac]){var ag=ae[ac].getAttribute("data-name");if(ag&&ae[ac].checked){X.values[ag]=X.values[ag]?X.values[ag]+","+ae[ac].value:ae[ac].value}}}for(var ac=0;ac<V.length;ac++){if(V[ac]){var ai=V[ac].getAttribute("data-required");var ag=V[ac].getAttribute("data-name");if(ag){X.values[ag]=V[ac].checked}if(ai==="true"){if(!V[ac].checked){ad=false;T="Please fill out all required fields";V[ac].classList.add("invalid")}else{V[ac].classList.remove("invalid")}}}}m.formData=X;if(ad){g.classList.remove("with-error-msg");v.onSkinEvent("emailgate.submit",m);var U=new Date();U.setDate(U.getDate()+30);cincopa.setCookie("cp_leadgen_"+I.listId+"="+R+"; path=/; expires="+U.toGMTString());cincopa.emailgate.skip(v)}else{g.querySelector(".error-message").innerHTML=T;g.classList.add("with-error-msg")}return false},false);var a=n.getElementById(v.loaderParams._object);if(a){a.classList.add("cp_form_opened");a.classList.add("cp_form_opened_transition")}var o=document.createEvent("CustomEvent");o.initCustomEvent("resize",true,true);window.dispatchEvent(o)}},"emailgate.show",0);cincopa.registerEvent(function(b,a,c){cincopa.emailgate.skip(c)},"emailgate.skip",0);cincopa.registerEvent(function(b,a,c){cincopa.emailgate.hide(c)},"emailgate.hide",0);cincopa.registerEvent(function(b,a,e){try{var h="";try{if(a.formData.listId==""){h+="listid-is-null "}if(e.acc&&e.acc.user&&e.acc.user.integration&&e.acc.user.integration.hubspot&&e.acc.user.integration.hubspot=="active"){h+="hubspot-active ";var g=cincopa.inBetween(document.cookie,"hubspotutk=",";");if(!g){h+="hubspot-pixel-missing "}else{h+="hubspot-pixel-found "}}}catch(c){h+="exception "+c}var k={values:a.formData.values,fid:e.args.fid,uid:e.uid,rid:a.item.rid,mediatitle:a.item.title,hmid:cincopa.cp_media_hm[a.uid][a.item.rid]["hmid"],notes:h};cincopa.send_beacon("https://www.cincopa.com/media-platform/emailgate_ajax.aspx?j="+encodeURIComponent(cincopa.json_stringify(k))+"&setref="+encodeURIComponent(cincopa.location()))}catch(c){}cincopa.logFeature("email-submit",a.uid);var d=new Date();d.setDate(d.getDate()+1000);cincopa.setCookie("cp_ud="+btoa(JSON.stringify(a.formData.values))+"; expires="+d.toGMTString()+"; path=/");if(a.formData.listId!=""){var m="https://www.cincopa.com/media-platform/email_integration_ajax.aspx";var j={http_method:"GET",cmd:"addmember",uid:e.uid,listid:a.formData.listId,company:"n/a",mediarid:a.item.rid,mediatitle:a.item.title};for(var d in a.formData.values){j[d]=a.formData.values[d]}if(true){Ajax(m,j,function(f){})}else{}}var l={};l.ckid=cincopa.cp_media_sessionid;l.uid=a.uid;l.rid=templastrid;l.hmid=cincopa.cp_media_hm[l.uid][l.rid]["hmid"];l.ud={name:((a.formData.values.first==null?"":a.formData.values.first)+" "+(a.formData.values.last==null?"":a.formData.values.last)).trim(),email:(a.formData.values.email==null?"":a.formData.values.email)};l.evt={t:"u",s:"eg",p:cincopa.cp_media_hm[l.uid][l.rid]["lastpos"]};if(cincopa.disable_analytics){cincopa.trace2("ilib","Emailgate NOT SENDING "+cincopa.json_stringify(l),l)}else{cincopa.trace2("ilib","Emailgate send "+cincopa.json_stringify(l),l);cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/ohm.aspx?j="+encodeURIComponent(cincopa.json_stringify(l))+"&setref="+encodeURIComponent(cincopa.location()))}},"emailgate.submit",0);cincopa.registerEvent("cincopa.cp_evt_gaevent","runtime.*",0);cincopa.registerEvent("cincopa.cp_evt_gaevent","skin.*",0);cincopa.registerEvent("cincopa.cp_evt_gaevent","video.*",0);cincopa.registerEvent("cincopa.cp_evt_gaevent","audio.*",0);cincopa.cp_evt_gaevent=function(o,f,k){if(o=="runtime.internal-on-args"){try{if(k.args.override_analytics_load){cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/oa.aspx?uid="+k.args.override_analytics_load.uid+"&fid="+k.args.override_analytics_load.fid+"&setref="+encodeURIComponent(k.args.override_analytics_load.setref))}else{if(k.loaderParams._fid.indexOf("!")==-1){cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/oa.aspx?uid="+k.args.cmapath.replace("%2F","&fid=")+"&setref="+encodeURIComponent(cincopa.location()))}else{if(k.args.liveid){cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/oa.aspx?uid="+k.args.cmapath.replace("%2F","&fid=")+"&setref="+encodeURIComponent(cincopa.location()))}}}}catch(j){}if(k.args.vast&&k.args.vast!=""){cincopa.logFeature("vast")}if(k.args.allow_lightbox&&k.args.allow_lightbox!="no"){k.args.iframe=false}if((k.args.prepostroll=="true"||k.args.prepostroll==true)&&k.args.prerollAssetID&&k.args.prerollAssetID!=""){if(k.args.extra_assets){k.args.extra_assets+=","+k.args.prerollAssetID}else{k.args.extra_assets=k.args.prerollAssetID}if(k.args.prepostroll==true){cincopa.logFeature("preroll2-hm")}cincopa.logFeature("preroll2")}if((k.args.prepostroll=="true"||k.args.prepostroll==true)&&k.args.postrollAssetID&&k.args.postrollAssetID!=""){if(k.args.extra_assets){k.args.extra_assets+=","+k.args.postrollAssetID}else{k.args.extra_assets=k.args.postrollAssetID}if(k.args.prepostroll==true){cincopa.logFeature("postroll2-hm")}cincopa.logFeature("postroll2")}try{if(!cincopa.disable_analytics){cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/oa.aspx?uid=rtskins&fid=skin-"+k.args.template+"&ttl=192&setref="+encodeURIComponent(cincopa.location().replace("?","@").replace("#","@")))}}catch(j){}}else{if(o=="runtime.on-media-json"){k.pushEventToGA("gallery.view");if(true){var r=function(w){var u="";var v="H:M:S".split(":");var d=w.split(":");var e;while(e=d.pop()){u=e+v.pop()+u}return"PT"+u};for(var m=0;m<k.MediaJSON.items.length;m++){if(k.MediaJSON.items[m].content_type=="image/jpeg"&&k.MediaJSON.items[m]["versions"]["jpg_600x450"]){if(true){var n={"@context":"http://schema.org/","@type":"ImageObject"};n["@id"]=k.MediaJSON.items[m].rid;n.name=k.MediaJSON.items[m].title.replace(/_|-|\\. /g," ");n.caption=k.MediaJSON.items[m].title.replace(/_|-|\\. /g," ");n.description=k.MediaJSON.items[m].description+".";n.thumbnailUrl=k.MediaJSON.items[m]["versions"]["jpg_600x450"].url;n.contentUrl=k.MediaJSON.items[m]["versions"]["jpg_1200x900"].url;n.uploadDate=k.MediaJSON.items[m].modified;if(!document.getElementById("cpjsonld"+k.MediaJSON.items[m].rid+"_"+k.loaderParams._object)){var b=cincopa.json_stringify(n);var p=document.createElement("script");p.setAttribute("id","cpjsonld"+k.MediaJSON.items[m].rid+"_"+k.loaderParams._object);p.setAttribute("galleryId","cpjsonld_"+k.loaderParams._object);p.setAttribute("type","application/ld+json");try{p.appendChild(document.createTextNode(b))}catch(h){p.text=b}var l=document.getElementsByTagName("head").item(0);l.appendChild(p)}}}else{if(k.MediaJSON.items[m].content_type=="video/mp4"&&k.MediaJSON.items[m]["versions"]["jpg_600x450"]){var n={"@context":"http://schema.org/","@type":"VideoObject"};n["@id"]=k.MediaJSON.items[m].rid;n.duration=r(k.MediaJSON.items[m].duration);n.name=k.MediaJSON.items[m].title.replace(/_|-|\\. /g," ");n.description=k.MediaJSON.items[m].description+".";n.thumbnailUrl=k.MediaJSON.items[m]["versions"]["jpg_600x450"].url;if(k.MediaJSON.items[m]["versions"]["mp4_hd"]){n.contentUrl=k.MediaJSON.items[m]["versions"]["mp4_hd"].url}n.uploadDate=k.MediaJSON.items[m].modified;if(!document.getElementById("cpjsonld"+k.MediaJSON.items[m].rid+"_"+k.loaderParams._object)){var b=cincopa.json_stringify(n);var p=document.createElement("script");p.setAttribute("id","cpjsonld"+k.MediaJSON.items[m].rid+"_"+k.loaderParams._object);p.setAttribute("galleryId","cpjsonld_"+k.loaderParams._object);p.setAttribute("type","application/ld+json");try{p.appendChild(document.createTextNode(b))}catch(h){p.text=b}var l=document.getElementsByTagName("head").item(0);l.appendChild(p)}try{for(var q=0;q<k.MediaJSON.items[m].extra_files.length;q++){if(k.MediaJSON.items[m].extra_files[q].type.startsWith("subtitle-")){cincopa.logFeature(k.MediaJSON.items[m].extra_files[q].type);var a=new XMLHttpRequest();a.rid=k.MediaJSON.items[m].rid;a.open("GET",k.MediaJSON.items[m].extra_files[q].url);a.onreadystatechange=function(){function e(u){function A(t){return t.replace(/^\s+|\s+$/g,"")}var x=u.replace(/\r\n|\r|\n/g,"\n");x=A(x);var y=x.split("\n\n");var C="";for(var w in y){if(typeof y[w]=="string"){var z=y[w].trim().split("\n")}if(z.length>=2){var B=z[2];if(z.length>2){for(var v=3;v<z.length;v++){B+=" "+z[v]}}C+=B+",\n "}}return C}if(this.readyState===4){var s=e(this.responseText);var d=document.querySelectorAll('[id *="cpjsonld'+this.rid+'"]').forEach(function(t){if(t){n=cincopa.json_parse(t.innerHTML);if(n.transcript){n.transcript+="\n\n "+s}else{n.transcript=s}t.innerHTML=cincopa.json_stringify(n)}})}};a.send()}}}catch(h){}}}}}}else{if((o=="video.play"||o=="audio.play")&&f.item&&f.second==0){k.pushEventToGA(o+" "+f.item.title+" ("+f.item.rid+")")}else{if((o=="video.timeupdate"||o=="audio.timeupdate")&&f.item&&f.item.duration){var g=f.item.duration.split(":");var c=0;for(var m=1;g.length-m>=0;m++){c+=(parseInt(g[g.length-m].split(".")[0])*(Math.pow(60,m-1)))}if(Math.round(c/4)==f.second){k.pushEventToGA(o.split(".")[0]+".play 25% "+f.item.title+" ("+f.item.rid+")")}else{if(Math.round(c/2)==f.second){k.pushEventToGA(o.split(".")[0]+".play 50% "+f.item.title+" ("+f.item.rid+")")}else{if(Math.round(c/4*3)==f.second){k.pushEventToGA(o.split(".")[0]+".play 75% "+f.item.title+" ("+f.item.rid+")")}}}}else{if(o=="video.ended"||o=="audio.ended"){k.pushEventToGA(o.split(".")[0]+".play 100% "+f.item.title+" ("+f.item.rid+")")}}}}}if(o=="runtime.on-media-json"){if(k.args.prerollAssetID&&k.args.prerollAssetID!=""){k.args.prerollVideoUrl=k.MediaJSON.extra[0].content_url;if(k.args.postrollAssetID&&k.args.postrollAssetID!=""){k.args.postrollVideoUrl=k.MediaJSON.extra[1].content_url}}else{if(k.args.postrollAssetID&&k.args.postrollAssetID!=""){k.args.postrollVideoUrl=k.MediaJSON.extra[0].content_url}}}};try{if(parent.window.cp_library_onload){parent.window.cp_library_onload()}}catch(ex){}cincopa.cp_media_sessionid=cincopa.cp_media_sessionid||cincopa.inBetween(document.cookie,"cp_sessionid=",";");if(cincopa.cp_media_sessionid==null){cincopa.cp_media_sessionid=Math.random().toString().substring(2);cincopa.setCookie("cp_sessionid="+cincopa.cp_media_sessionid+"; path=/; max-age=157680000")}cincopa.cp_media_hm=cincopa.cp_media_hm||{};cincopa.cp_media_next_commit=null;cincopa.registerEvent("cincopa.cp_evt_media_hm","video.*",0);cincopa.cp_hmsToSecondsOnly=function(d){if(!d){return""}var b=d.split(":"),c=0,a=1;while(b.length>0){c+=a*parseInt(b.pop(),10);a*=60}return c+(d.indexOf(".")>-1?1:0)};var templastrid="";cincopa.cp_evt_media_hm=function(k,b,g){if(b.item.liveid||g.args.skin_code=="/bgvideo/1"){return}var h=function(){g.init_video_play_stats(b);templastrid=b.item.rid};if(k=="video.load"){h();cincopa.cp_update_and_send_stats("send_init");cincopa.trace("cp_evt_media_hm INIT")}else{if((k=="video.timeupdate"&&b.second>0)||(k=="video.play"&&b.second==0)){h();cincopa.cp_media_hm[b.uid][b.item.rid]["commit"]=false;cincopa.cp_media_hm[b.uid][b.item.rid]["hm"][b.second]=(isNaN(cincopa.cp_media_hm[b.uid][b.item.rid]["hm"][b.second])?0:cincopa.cp_media_hm[b.uid][b.item.rid]["hm"][b.second])+1;cincopa.cp_media_hm[b.uid][b.item.rid]["lastpos"]=b.second;var m=(k=="video.play"||(cincopa.cp_media_next_commit!=null&&cincopa.cp_media_next_commit<(new Date())));cincopa.cp_update_and_send_stats(m?"send":"update");if(m){cincopa.cp_media_next_commit=null}if(cincopa.cp_media_next_commit==null){cincopa.cp_media_next_commit=new Date();var l=5;try{l+=cincopa.cp_media_hm[b.uid][b.item.rid]["dur"]/400}catch(c){}cincopa.cp_media_next_commit.setSeconds(cincopa.cp_media_next_commit.getSeconds()+l)}}else{if(k=="video.ended"||k=="video.pause"){cincopa.cp_update_and_send_stats("send");cincopa.cp_media_next_commit=null}}}if(k=="video.timeupdate"&&(cincopa.analytics_persistent.mode=="cookie"||cincopa.analytics_persistent.mode=="localstorage")){cincopa.cp_media_hm.persist_cookie=5;var e=new Date();e.setDate(e.getDate()+5);var a=cincopa.cp_media_hm[b.uid][b.item.rid];a={hmrange:a.hmrange,lastpos:a.lastpos};if(cincopa.analytics_persistent.mode=="cookie"){cincopa.setCookie("cphmps_"+b.uid+"_"+b.item.rid+"="+btoa(JSON.stringify(a))+"; expires="+e.toGMTString()+"; path=/")}else{var j="cphmps_"+b.uid+"_"+b.item.rid;var n=btoa(JSON.stringify(a));localStorage.setItem(j,n)}}};cincopa.cp_update_and_send_stats=function(k){for(var l in cincopa.cp_media_hm){for(var g in cincopa.cp_media_hm[l]){if(cincopa.cp_media_hm[l][g]["commit"]){continue}var j={};j.ckid=cincopa.cp_media_sessionid;j.uid=l;j.hmid=cincopa.cp_media_hm[l][g]["hmid"];j.rid=g;if(k!="send_init"){cincopa.cp_media_hm[l][g].totaluniqueseconds=0;var d=-2;var f=-2;var e=0;var c="";for(var h in cincopa.cp_media_hm[l][g]["hm"]){h=parseInt(h);if(isNaN(h)){continue}cincopa.cp_media_hm[l][g].totaluniqueseconds++;if(e!=cincopa.cp_media_hm[l][g]["hm"][h]){if(d>-2){if(f!=d){c+="-"+d}if(e>1){c+=":"+e}}c+=(d>-2?",":"")+h;f=h}else{if(d+1<h){if(f!=d){c+="-"+d}if(e>1){c+=":"+e}c+=(d>-2?",":"")+h;f=h}}d=h;e=cincopa.cp_media_hm[l][g]["hm"][h]}if(cincopa.cp_media_hm[l][g].totaluniqueseconds>0){if(f!=d){c+="-"+d}if(e>1){c+=":"+e}cincopa.cp_media_hm[l][g].hmrange=c;j.hm=c;j.prg=cincopa.cp_media_hm[l][g].totaluniqueseconds;j.name=cincopa.cp_media_hm[l][g]["cap"];j.dur=cincopa.cp_media_hm[l][g]["dur"]}}if(k=="send_init"||k=="send"){if(!cincopa.cp_media_hm[l][g]["firstsend"]&&cincopa.cp_media_hm[l][g].totaluniqueseconds>0){if(cincopa.qs&&cincopa.qs.cpud){try{j.ud=cincopa.json_parse(cincopa.qs.cpud)}catch(b){}}else{if(cincopa.qs&&cincopa.qs.cpeud){try{j.ud=cincopa.json_parse(atob(cincopa.qs.cpeud))}catch(b){}}else{if(cincopa.qs&&(cincopa.qs.cpudemail||cincopa.qs.cpudname||cincopa.qs.cpudaccid)){j.ud={};if(cincopa.qs.cpudemail){j.ud.email=cincopa.qs.cpudemail}if(cincopa.qs.cpudname){j.ud.name=cincopa.qs.cpudname}if(cincopa.qs.cpudaccid){j.ud.acc_id=cincopa.qs.cpudaccid}}else{if(cincopa.hash&&(cincopa.hash.cpudemail||cincopa.hash.cpudname||cincopa.hash.cpudaccid)){j.ud={};if(cincopa.hash.cpudemail){j.ud.email=cincopa.hash.cpudemail}if(cincopa.hash.cpudname){j.ud.name=cincopa.hash.cpudname}if(cincopa.hash.cpudaccid){j.ud.acc_id=cincopa.hash.cpudaccid}}else{if(cincopa.analytics){j.ud=cincopa.analytics}}}}}cincopa.cp_media_hm[l][g]["firstsend"]=true}if(cincopa.disable_analytics){cincopa.trace2("ilib","NOT SENDING "+cincopa.json_stringify(j),j)}else{var a=cincopa._ROOT_ANALYTICS+"/ohm.aspx?";if(cincopa.hash.cpcallback||cincopa.analytics_callback!=""){a+="h=d&"}a+="j="+encodeURIComponent(cincopa.json_stringify(j));a+="&setref="+encodeURIComponent(cincopa.location());cincopa.trace2("ilib","send analytics "+cincopa.json_stringify(j),j);cincopa.send_beacon(a);cincopa.cp_media_hm[l][g]["commit"]=true}}}}};cincopa.registerEvent(function(h,f,k){if(f.item.timeline){var n=JSON.parse(cincopa.decodeXml(f.item.timeline));if(typeof n.annotation!="undefined"){var d=cincopa.orderByTime(n.annotation)?cincopa.orderByTime(n.annotation):[];for(var b in d){for(var l=0;l<d[b].value.length;l++){var c={index:l,time:d[b].time,value:d[b].value[l]};f.annotation=c;var g=k.detectIframeDocument().getElementById("ze-annotation_"+k.loaderParams._object+"_"+d[b].time+"_"+l);if(cincopa.cp_hmsToSecondsOnly(d[b].time)<=f.second&&cincopa.cp_hmsToSecondsOnly(d[b].value[l].end)>=f.second){if(g==null&&!d[b].value[l].skipped&&d[b].value[l].type!="timeline"){k.onSkinEvent("annotation.show",f)}}else{if(g!=null){k.onSkinEvent("annotation.hide",f)}}}}}if(typeof n.calltoaction!="undefined"){var e=cincopa.orderByTime(n.calltoaction);for(var l=0;l<e.length;l++){var m=e[l].time=="preroll"||e[l].time=="postroll"?e[l].time:cincopa.cp_hmsToSecondsOnly(e[l].time);if(m==f.second){f.overlay={link:e[l].value.link,text:e[l].value.desc,time:e[l].time,image:e[l].value.type==="image"?e[l].value.image:""};if(e[l].value.enabled!==false&&(e[l].value.desc||e[l].value.image)){try{k.skin.player.$media[0].pause()}catch(j){}k.onSkinEvent("cta.show",f)}break}}}}},"video.timeupdate",0);cincopa.registerEvent(function(d,c,e){var b=false;if(c.item.timeline){var g=JSON.parse(cincopa.decodeXml(c.item.timeline));if(typeof g.calltoaction!="undefined"){var a=cincopa.orderByTime(g.calltoaction);for(var f=0;f<a.length;f++){if(a[f].time=="postroll"){c.overlay={link:a[f].value.link,text:a[f].value.desc,time:a[f].time,image:a[f].value.type==="image"?a[f].value.image:""};c.second="postroll";if(a[f].value.enabled!==false&&(a[f].value.desc||a[f].value.image)){e.onSkinEvent("cta.show",c);b=true}break}}}}e.ctaShowed=b},"video.ended",0);cincopa.registerEvent(function(e,d,f){if(d.item.timeline){f.onSkinEvent("chapter.show",d);d.annotation={type:"timeline"};f.onSkinEvent("annotation.show",d);var h=JSON.parse(cincopa.decodeXml(d.item.timeline));if(h.annotation){var a=cincopa.orderByTime(h.annotation)?cincopa.orderByTime(h.annotation):[];for(var b in a){for(var g=0;g<a[b].value.length;g++){if(a[b].value[g].fontFamily){f.loadjscssfile(a[b].value[g].fontFamily,"font","head")}}}}if(typeof h.calltoaction!="undefined"){var c=cincopa.orderByTime(h.calltoaction);for(var g=0;g<c.length;g++){if(c[g].time=="preroll"){d.overlay={link:c[g].value.link,text:c[g].value.desc,time:c[g].time,image:c[g].value.type==="image"?c[g].value.image:""};if(c[g].value.enabled!==false&&(c[g].value.desc||c[g].value.image)){f.onSkinEvent("cta.show",d);f.args.autostart=false}break}}}}},"video.load",0);cincopa.registerEvent(function(e,c,f){var a=f.detectIframeDocument().getElementById("ze_annotation_placeholder_"+f.loaderParams._object+"_"+f.skin.player.id);if(a){a.innerHTML=""}if(f.skin.player){var g;var b=f.skin.player.controls[0];if(b){g=typeof b.getElementsByClassName("mejs-time-rail")!="undefined"?b.getElementsByClassName("mejs-time-rail")[0]:"";if(g){var d=g.getElementsByClassName("tl_annotation_section");if(d){while(d[0]){d[0].parentNode.removeChild(d[0])}}}}f.onSkinEvent("chapter.hide",c)}},"video.unload",0);cincopa.registerEvent(function(g,f,h){var e="ze_htmloverlay_placeholder_"+h.loaderParams._object+"_"+h.skin.player.id;var b=h.detectIframeDocument().getElementById(e);if(!b){return}h.onSkinEvent("cta.hide",f);var a=document.createElement("a");a.innerHTML="X";a.className="ze_overlay_close_btn ze_overlay_close_cta";b.appendChild(a);a.onclick=function(){h.onSkinEvent("cta.skip",f)};b.setAttribute("data-time",f.overlay.time);var c=document.createElement("div");c.className="ze_overlay_container_div";if(f.overlay.image){c.classList.add("ze_cta_image")}var d=document.createElement("div");d.className="ze_overlay_container_div_content";var j=document.createElement("div");j.className="ze_cta_cont";var k=document.createElement("p");k.id="ze_cta_text";k.innerHTML="";var l=document.createElement("div");var o,n;if(f.overlay.image){l.innerHTML="<img src='"+f.overlay.image+"' style='width: 100%; height: 100%; object-fit: cover'>";o=l.childNodes;n=Object.assign([],o)}else{l.innerHTML=f.overlay.text.trim();o=l.childNodes;n=Object.assign([],o)}for(var m=0;m<n.length;m++){if(n[m].tagName&&n[m].tagName.toLowerCase()=="script"){var p=document.createElement("script");if(n[m].src){p.src=n[m].src}else{p.innerHTML=n[m].innerText}h.detectIframeDocument().head.appendChild(p)}else{k.appendChild(n[m])}}if(f.overlay.link){k.onclick=function(){window.open(f.overlay.link,"_blank");f.skipAction="linkclick";h.onSkinEvent("cta.skip",f)}}j.appendChild(k);d.appendChild(j);c.appendChild(d);b.style.display="block";b.appendChild(c)},"cta.show",0);cincopa.registerEvent(function(c,b,d){var a=d.detectIframeDocument().getElementById("ze_htmloverlay_placeholder_"+d.loaderParams._object+"_"+d.skin.player.id);if(a){a.innerHTML="";a.style.display="none"}},"cta.hide",0);cincopa.registerEvent(function(c,a,d){var b=d.detectIframeDocument().getElementById("ze_htmloverlay_placeholder_"+d.loaderParams._object+"_"+d.skin.player.id);var e=b.getAttribute("data-time");if(a.skipAction=="linkclick"||e=="preroll"){if(a.item.timeline){var f=JSON.parse(cincopa.decodeXml(a.item.timeline));if(typeof f.calltoaction!="undefined"&&typeof f.calltoaction[e]!="undefined"){delete f.calltoaction[e]}a.item.timeline=cincopa.json_stringify(f)}}d.onSkinEvent("cta.hide",a);if(typeof d.skin.do_play=="function"){d.skin.do_play(a)}},"cta.skip",0);cincopa.registerEvent(function(u,p,y){var l=y.detectIframeDocument().getElementById("ze_annotation_placeholder_"+y.loaderParams._object+"_"+y.skin.player.id);if(!l){return}var D=y.loaderParams._object;var t=document.querySelector("#"+D+" .mejs-container").offsetWidth;var s=document.querySelector("#"+D+" .mejs-container").offsetHeight;var X=2.15;var q=24;if(p.annotation&&p.annotation.value&&p.annotation.value.fontSize=="small"){X=X/2;q=q/2}else{if(p.annotation&&p.annotation.value&&p.annotation.value.fontSize=="large"){X=X*2;q=q*2}}var F;var C;C=Math.round((X*t/100));C=Math.min(C,q);window.removeEventListener("resize",e);window.cincopaAddEventListener("resize",e);function e(){clearTimeout(F);F=setTimeout(function(){t=document.querySelector("#"+D+" .mejs-container").offsetWidth;s=document.querySelector("#"+D+" .mejs-container").offsetHeight;var a=l.querySelectorAll(".ze-annotation-title");for(var ac=0;ac<a.length;ac++){var ad=a[ac].getAttribute("data-unit");var aa=a[ac].getAttribute("data-defaultFonSize");C=Math.round((ad*t/100));C=Math.min(C,aa);a[ac].style.fontSize=C+"px";if(a[ac].querySelector(".ze-annotation-icon")){a[ac].querySelector(".ze-annotation-icon").style.fontSize=C+"px"}}try{var Z=s?(n.scrollHeight*100/s):0;m.style.height=Math.max(p.annotation.value.height,Z)+"%"}catch(ab){console.log(ab)}},200)}if(p.annotation.type=="timeline"){if(y.skin.player){var P,Q;var o=y.skin.player.controls[0];if(o){P=typeof o.getElementsByClassName("mejs-time-rail")!="undefined"?o.getElementsByClassName("mejs-time-rail")[0]:"";if(P){var R=typeof P.getElementsByClassName("mejs-time-total")!="undefined"?P.getElementsByClassName("mejs-time-total")[0]:"";if(R){Q=R.offsetWidth}}}if(P&&Q){var N=JSON.parse(cincopa.decodeXml(p.item.timeline));if(typeof N.annotation!="undefined"){var c=cincopa.orderByTime(N.annotation)?cincopa.orderByTime(N.annotation):[];for(var b in c){for(var A=0;A<c[b].value.length;A++){if(c[b].value[A].type!="timeline"){continue}var M=c[b].time;var g=c[b].value[A].bgcolor.replace("0x","#");var k=c[b].value[A].color.replace("0x","#");var w=c[b].value[A].font;var x=c[b].value[A].fontStyle;var r=cincopa.cp_hmsToSecondsOnly(p.item.duration)||y.skin.player.media.duration;var Y=y.skin.player.media.width*parseInt(c[b].value[A].width)/100;var z=y.skin.player.media.height*parseInt(c[b].value[A].height)/100;var O=Q/r;var K=c[b].value[A].desc;var S="",T;if(c[b].value[A].link){var B=c[b].value[A].link;var h=c[b].value[A].blank?"_blank":"_self";S="window.open('"+B+"','"+h+"')";T=document.createElement("i");T.className="ze-annotation-icon";T.style.fontSize=C+"px"}var H=parseInt(cincopa.cp_hmsToSecondsOnly(M))*O;var G=document.createElement("div");G.className="ze_tl_annotation_title";G.style.fontSize=C+"px";G.innerHTML=K;if(x=="shadow"){G.style.fontWeight="bold"}else{if(x=="shadow"){G.style.fontWeight="bold";G.style.textShadow="1px 1px 3px rgba(0,0,0,0.6)"}else{if(x=="italic"){G.style.fontStyle="italic"}else{if(x=="underline"){G.style.textDecoration="underline"}}}}var U=document.createElement("div");U.className="tl_annotation_section";U.style.backgroundColor=g;U.style.left=H+"px";U.setAttribute("data-time",M);var V=document.createElement("div");V.className="tl_section_annotation_info";V.style.backgroundColor=g;V.style.color=k;V.style.width=Y+"px";V.style.height=z+"px";V.appendChild(G);if(T){V.appendChild(T)}if(S){U.setAttribute("onclick",S)}U.appendChild(V);P.insertBefore(U,P.firstChild)}}}}return}}var m=document.createElement("div");m.className="ze-annotation ze-annotation-"+p.annotation.value.type+" ";m.id="ze-annotation_"+y.loaderParams._object+"_"+p.annotation.time+"_"+p.annotation.index;var n=document.createElement("div");n.className="ze-annotation-text ";if(p.annotation.value.type!="spotlight"){n.innerHTML=p.annotation.value.desc}if(p.annotation.value.type==="title"){m.style.backgroundColor=p.annotation.value.bgcolor.replace("0x","#")}if(p.annotation.value.fontFamily){m.classList.add("cp-font-"+p.annotation.value.fontFamily)}m.setAttribute("data-unit",X);m.setAttribute("data-defaultFonSize",q);m.style.fontSize=C+"px";m.style.top=p.annotation.value.top+"%";m.style.left=p.annotation.value.left+"%";m.style.width=p.annotation.value.width+"%";m.style.height=p.annotation.value.height+"%";m.style.color=p.annotation.value.color.replace("0x","#");if(p.annotation.value.type=="label"){m.className+="ze-annotation-label-off";m.onmouseover=function(){this.className=this.className.replace("ze-annotation-label-off","")};m.onmouseout=function(){if(this.className.indexOf("ze-annotation-label-off")==-1){this.className+="ze-annotation-label-off"}};if(p.annotation.value.bgcolor){m.style.borderColor=p.annotation.value.bgcolor.replace("0x","#");n.style.backgroundColor=p.annotation.value.bgcolor.replace("0x","#")}}else{if(p.annotation.value.type=="note"){var E=document.createElement("div");E.className="ze-annotation-opacity";if(p.annotation.value.bgcolor){m.style.borderColor=p.annotation.value.bgcolor.replace("0x","#");E.style.backgroundColor=p.annotation.value.bgcolor.replace("0x","#")}m.appendChild(E)}else{if(p.annotation.value.type=="spotlight"){if(p.annotation.value.bgcolor){m.style.borderColor=p.annotation.value.bgcolor.replace("0x","#")}var I=document.createElement("div");I.className="ze-annotation ze-spotlight-title";I.setAttribute("data-connected",p.annotation.time+"_"+p.annotation.index);I.style.fontSize=C+"px";I.style.top=p.annotation.value.top_sp+"%";I.style.left=p.annotation.value.left_sp+"%";I.style.width=p.annotation.value.width_sp+"%";I.style.height=p.annotation.value.height_sp+"%";I.style.color=p.annotation.value.color.replace("0x","#");I.style.display="none";var J=document.createElement("div");J.className="ze-annotation-text";J.innerHTML=p.annotation.value.desc;I.appendChild(J);l.appendChild(I);m.onmouseover=function(){I.style.display="block"};m.onmouseout=function(){I.style.display="none"}}}}var L=p.annotation.value.type=="spotlight"?I:n;if(p.annotation.value.fontStyle=="bold"){L.style.fontWeight="bold"}else{if(p.annotation.value.fontStyle=="shadow"){L.style.fontWeight="bold";L.style.textShadow="1px 1px 3px rgba(0,0,0,0.6)"}else{if(p.annotation.value.fontStyle=="italic"){L.style.fontStyle="italic"}else{if(p.annotation.value.fontStyle=="underline"){L.style.textDecoration="underline"}}}}if(p.annotation.value.link){var B=p.annotation.value.link;var h=p.annotation.value.blank?"_blank":"_self";var d=document.createElement("i");d.className="ze-annotation-icon";d.style.fontSize=C+"px";m.style.cursor="pointer";m.onclick=function(){window.open(B,h)};if(p.annotation.value.tooltip){var W=document.createElement("span");W.className="ze-annotation-tooltip";W.innerHTML=B;if(typeof p.annotation.value.tooltipColor!="undefined"){W.style.color=p.annotation.value.tooltipColor.replace("0x","#")}if(typeof p.annotation.value.tooltipBgColor!="undefined"){W.style.backgroundColor=p.annotation.value.tooltipBgColor.replace("0x","#")}n.onmouseover=function(){this.nextSibling.style.display="inline-block"};n.onmouseout=function(){this.nextSibling.style.display="none"}}}var j=document.createElement("a");j.className="ze-annotation-close";j.innerHTML="X";j.id="ze-annotation-close"+y.loaderParams._object+"_"+p.annotation.time+"_"+p.annotation.index;j.onclick=function(Z){Z.stopPropagation();var ab=this.id.split("_");var ac=ab[ab.length-2];var aa=ab[ab.length-1];var a={index:aa,time:ac};p.annotation=a;y.onSkinEvent("annotation.skip",p)};m.appendChild(n);if(W){m.appendChild(W)}if(d){m.appendChild(d)}m.appendChild(j);l.style.display="block";l.appendChild(m);try{var f=s?(n.scrollHeight*100/s):0;m.style.height=Math.max(p.annotation.value.height,f)+"%"}catch(v){}},"annotation.show",0);cincopa.registerEvent(function(e,b,f){var c=f.detectIframeDocument();var a=c.getElementById("ze_annotation_placeholder_"+f.loaderParams._object+"_"+f.skin.player.id);if(b.annotation&&b.annotation.remove_all){a.querySelectorAll(".ze-annotation").forEach(function(k){k.remove()});delete b.annotation.remove_all;return}var d=c.getElementById("ze-annotation_"+f.loaderParams._object+"_"+b.annotation.time+"_"+b.annotation.index);var h=false;if((" "+d.className+" ").indexOf(" ze-annotation-spotlight ")>-1){h=true}if(d){a.removeChild(d)}if(h){var j=a.getElementsByClassName("ze-spotlight-title");if(j){for(var g=0;g<j.length;g++){if(j[g].getAttribute("data-connected")==b.annotation.time+"_"+b.annotation.index){a.removeChild(j[g])}break}}}},"annotation.hide",0);cincopa.registerEvent(function(b,a,c){if(a.item.timeline){var d=JSON.parse(cincopa.decodeXml(a.item.timeline));if(typeof d.annotation!="undefined"&&typeof d.annotation[a.annotation.time]!="undefined"){d.annotation[a.annotation.time][a.annotation.index].skipped=true}a.item.timeline=cincopa.json_stringify(d)}c.onSkinEvent("annotation.hide",a)},"annotation.skip",0);cincopa.registerEvent(function(p,l,t){if(t.skin.player){var H,I;var k=t.skin.player.controls[0];if(k){var w=k.className;k.className="";H=typeof k.getElementsByClassName("mejs-time-rail")!="undefined"?k.getElementsByClassName("mejs-time-rail")[0]:"";if(H){var J=typeof H.getElementsByClassName("mejs-time-total")!="undefined"?H.getElementsByClassName("mejs-time-total")[0]:"";if(J){I=J.offsetWidth||H.offsetWidth}}k.className=w}if(H&&I){var F=JSON.parse(cincopa.decodeXml(l.item.timeline));if(typeof F.chapter!="undefined"&&(typeof t.args.tl_storyboard=="undefined"||t.args.tl_storyboard=="off")&&t.args.chapter){var D="";if(l.item.versions&&l.item.versions.jpg_sb_200x150){D=l.item.versions.jpg_sb_200x150.url}var d=cincopa.orderByTime(F.chapter)?cincopa.orderByTime(F.chapter):[];for(var u=0;u<d.length;u++){var E=d[u].time;var K=d[u]["value"].title||"";var m=d[u]["value"].desc||"";var o=cincopa.cp_hmsToSecondsOnly(l.item.duration)||t.skin.player.media.duration;var G=I/o;var C=parseInt(cincopa.cp_hmsToSecondsOnly(E))*G;var c=document.createElement("div");c.className="ze_tl_chapter_info";var h=document.createElement("span");h.className="ze_tl_chapter_title";h.innerText=K;var b=document.createElement("span");b.className="ze_tl_chapter_description";b.innerText=m;if(D){var f=document.createElement("div");f.className="ze_tl_chapter_thumb";c.appendChild(f);f.style.backgroundImage="url("+D+")";f.style.backgroundRepeat="no-repeat";var B=200,A=150;var a=l.item.aspect_ratio?parseFloat(l.item.aspect_ratio):1.33;var n=0;if(a>1){var g=B/a;n=(150-g)/2;f.style.height=g+"px"}else{f.style.height=A+"px"}var z,j;var q=o<=120?1:(o>120&&o<=300?2:(o>300&&o<=900?5:10));var r=Math.ceil(o/q);var s=o/r;var v=Math.floor(cincopa.cp_hmsToSecondsOnly(E)/s);if(v<10){j=v}else{j=v%10}z=parseInt(v/10);if(a>1){var y=-n+(-z*A);f.style.backgroundPositionX=(-j*B)+"px";f.style.backgroundPositionY=y+"px"}else{var x=-n+(-j*B);f.style.backgroundPositionX=x+"px";f.style.backgroundPositionY=(-z*A)+"px"}}c.appendChild(h);c.appendChild(b);var e=document.createElement("div");e.className="ze_tl_chapter_section";e.setAttribute("data-time",E);e.appendChild(c);e.style.left=C*100/I+"%";H.insertBefore(e,H.firstChild);(function(M,L,O,N){M.onmouseover=function(){var P=200;var S=O.offsetWidth;var R=S/o;var Q=parseInt(cincopa.cp_hmsToSecondsOnly(N))*R;if(S-Q<P){L.style.marginLeft=(S-Q-P)+"px"}else{L.style.marginLeft=0+"px"}};M.onclick=function(){if(t.playerAPI){t.playerAPI.setCurrentTime(parseInt(cincopa.cp_hmsToSecondsOnly(N)))}}})(e,c,J,E)}}}}},"chapter.show",0);cincopa.registerEvent(function(e,d,f){var b=f.detectIframeDocument().getElementById("ze_annotation_placeholder_"+f.loaderParams._object+"_"+f.skin.player.id);if(b){b.innerHTML=""}if(f.skin.player){var g;var c=f.skin.player.controls[0];if(c){g=typeof c.getElementsByClassName("mejs-time-rail")!="undefined"?c.getElementsByClassName("mejs-time-rail")[0]:"";if(g){var a=g.getElementsByClassName("ze_tl_chapter_section");if(a){while(a[0]){a[0].parentNode.removeChild(a[0])}}}}}},"chapter.hide",0);cincopa.registerEvent(function(b,a,c){c.onSkinEvent("chapter.hide",{});c.onSkinEvent("chapter.show",a);if(c.skin&&typeof c.skin.buildChapters=="function"){c.skin.buildChapters(a.item,c.skin.player)}},"chapter.update",0);cincopa.registerEvent(function(g,c,j){var d=j.detectIframeDocument();var a=d.getElementById(c.containerId||j.loaderParams._object);var o=j.skin.player;var m={fb:{url:"https://www.facebook.com/share.php?u={ADDRESS}",icon:"icon-fb",show:(String(j.args.facebook_share)==="false"?false:true),classPrefix:"fb"},twitter:{url:"https://twitter.com/home?status={ADDRESS}",icon:"icon-twitter",show:(String(j.args.twitter_share)==="false"?false:true),classPrefix:"tw"},linkedin:{url:"https://www.linkedin.com/shareArticle?mini=true&url={ADDRESS}",icon:"icon-linkedin",show:(String(j.args.linkedin_share)==="false"?false:true),classPrefix:"li"},pinterest:{url:"https://pinterest.com/pin/create/button/?url={ADDRESS}",icon:"icon-pinterest",show:(String(j.args.pinterest_share)==="false"?false:true),classPrefix:"pn"},email:{url:"mailto:?subject=Cincopa share&body={ADDRESS} shared from Cincopa https://www.cincopa.com",icon:"icon-email",show:(String(j.args.email_share)==="false"?false:true),classPrefix:"em"},};if(o){var l=o.layers[0];var b=o.controls?o.controls[0]:null;if(!l){return}var y=l.getElementsByClassName("share-layer-wrap");if(y.length>0){y=y[0];var v=y.getElementsByClassName("share-layer");if(v&&v.length>0){v[0].parentNode.removeChild(v[0])}var t=document.createElement("div");t.className="share-layer";t.style.display="block";var s=document.createElement("div");s.className="share-close";var z="";if(j.args.share_url){z=j.args.share_url}else{z=c.share_url}z=(j.args.share_links_to==="specific"&&j.args.share_page_url)?encodeURIComponent(j.args.share_page_url):encodeURIComponent(z);var f="";if(j.args.embed_code){f='<p class="share-title">Embed</p><p class="share-link embed-link">'+(j.args.embed_url?j.args.embed_url.replace(/>/g,"&gt;").replace(/</g,"&lt;"):"")+"</p>"}var A="";for(var p in m){if(!m.hasOwnProperty(p)||!m[p]["show"]){continue}A+='<li class="ze_'+m[p]["classPrefix"]+'"><span class="'+m[p]["classPrefix"]+'-share" onclick="window.open(\''+m[p]["url"].replace("{ADDRESS}",z)+"', '_blank')\"><i class=\""+m[p]["icon"]+'"></i></span></li>'}var u='<div class="share-wrap"><p class="share-title">'+(j.args.share_title?j.args.share_title:"Share")+'</p><p class="share-link">'+decodeURIComponent(z)+'</p><ul class="share-icons">'+A+"</ul>"+f+"</div>";t.innerHTML=u;t.appendChild(s);y.appendChild(t);var r=y.getElementsByClassName("share-button");if(r.length>0){r=r[0];r.style.display="none"}var e=y.getElementsByClassName("download-button");if(e.length>0){e=e[0];e.style.display="none"}var n=l.getElementsByClassName("mejs-overlay-button");if(n.length>0){n=n[0];n.style.display="none"}if(b&&b.className.indexOf("cp-hide")===-1){b.className+=" cp-hide"}if(a.className.indexOf("shareBlockOpened")==-1){a.className+=" shareBlockOpened"}try{if(o.isFullScreen){o.exitFullScreen()}if(r){if(o.$media[0].paused){r.setAttribute("data-paused","true")}else{r.setAttribute("data-paused","false")}}if(o.media.pluginType!="flash"){o.$media[0].pause()}else{o.pause()}}catch(h){}s.onclick=function(){j.onSkinEvent("share.hide",c)};if(typeof j.shareHandleKeyUp=="undefined"){j.shareHandleKeyUp=function(B){if(B.which==27){j.onSkinEvent("share.hide",c)}}}d.removeEventListener("keyup",j.shareHandleKeyUp,true);d.addEventListener("keyup",j.shareHandleKeyUp,true);function q(B){if("undefined"!=typeof window.getSelection&&"undefined"!=typeof d.createRange){var F=d.defaultView||window;var E=d.createRange();E.selectNodeContents(B);var C=F.getSelection();C.removeAllRanges(),C.addRange(E)}else{if("undefined"!=typeof d.selection&&"undefined"!=typeof d.body.createTextRange){var D=d.body.createTextRange();D.moveToElementText(B),D.select()}}}var x=y.getElementsByClassName("share-link");for(var k=0;k<x.length;k++){var w=x[k];w.onclick=function(){q(w)}}}}},"share.show",0);cincopa.registerEvent(function(e,c,g){var a=g.detectIframeDocument().getElementById(c.containerId||g.loaderParams._object);var k=g.skin.player;if(k){var h=k.layers[0];var b=k.controls?k.controls[0]:null;if(!h){return}var n=h.getElementsByClassName("share-layer-wrap");if(n.length>0){n=n[0];var m=n.getElementsByClassName("share-layer");if(m&&m.length>0){m=m[0];m.parentNode.removeChild(m)}var l=n.getElementsByClassName("share-button");if(l.length>0){l=l[0];l.style.display="block";if(l&&l.getAttribute("data-paused")!="true"){try{if(k.media.pluginType!="flash"){k.$media[0].play()}else{k.play()}}catch(f){}}}var d=n.getElementsByClassName("download-button");if(d.length>0){d=d[0];d.style.display="block"}var j=h.getElementsByClassName("mejs-overlay-button");if(j.length>0){j=j[0];j.style.display="block"}if(b&&b.className.indexOf("cp-hide")>-1){b.className=b.className.replace(new RegExp("(?:^|\\s)cp-hide(?:\\s|$)")," ")}setTimeout(function(){if(a&&a.className.indexOf("shareBlockOpened")>-1){a.className=a.className.replace(new RegExp("(?:^|\\s)shareBlockOpened(?:\\s|$)")," ")}},200)}}},"share.hide",0);cincopa.contextMenu=function(e,l,f){if(f&&f.args&&f.args.disable_context_menu){return}var c=f.detectIframeDocument();f.contextMenuTarget=null;var b=c.getElementById("cincopaContextMenus");var m=false,h=false,n=null,k=false;if(b==null){b=c.createElement("div");b.id="cincopaContextMenus",c.body.appendChild(b)}e=cincopa.json_parse(cincopa.json_stringify(e));if(c.getElementById("context"+e)){}else{var a=c.createElement("div");a.id="context"+e;a.className="cp-contextMenu";var o=c.createElement("ul");o.className="cp-contextMenu-dropdown cp-contextMenu-border";for(var g=0;g<l.length;g++){var j=c.createElement("a");if(cincopa.hasTouch()){j.ontouchstart=l[g].callback}else{j.onmousedown=l[g].callback}j.href="javascript:void(0);";j.innerHTML=l[g].title;o.appendChild(j)}a.appendChild(o);if(b!=null){b.appendChild(a)}}var d=c.getElementById(e);if(d!=null){if(!cincopa.hasTouch()){d.cincopaAddEventListener("contextmenu",function(p){p.preventDefault();p.stopPropagation();h=true;setTimeout(function(){c.getElementById("context"+e).style.display="block";c.getElementById("context"+e).style.left=p.pageX+"px";c.getElementById("context"+e).style.top=p.pageY+"px";f.contextMenuTarget=p.target},70)})}else{d.cincopaAddEventListener("contextmenu",function(p){p.preventDefault();p.stopPropagation()});d.cincopaAddEventListener("touchstart",function(p){m=true;n=setTimeout(function(){if(m&&!h){c.getElementById("context"+e).style.display="block";c.getElementById("context"+e).style.left=p.changedTouches[0].pageX+"px";c.getElementById("context"+e).style.top=p.changedTouches[0].pageY+"px";f.contextMenuTarget=p.target;k=true}},1000)});d.cincopaAddEventListener("touchmove",function(p){clearTimeout(n);m=false});d.cincopaAddEventListener("touchend",function(p){if(k){p.preventDefault();k=false}clearTimeout(n);m=false})}}if(cincopa.hasTouch()){d.cincopaAddEventListener("touchstart",function(p){if(c.getElementById("context"+e)){setTimeout(function(){c.getElementById("context"+e).style.display="none"},70)}return false},false)}else{d.cincopaAddEventListener("mousedown",function(p){if(c.getElementById("context"+e)){setTimeout(function(){c.getElementById("context"+e).style.display="none"},70)}return false},false)}d.cincopaAddEventListener("focusout",function(p){if(c.getElementById("context"+e)){setTimeout(function(){c.getElementById("context"+e).style.display="none"},70)}})};cincopa.registerEvent(function(e,c,f){var d=c.div_id;var k=true,j=true,h=false;var a="",b="",m="About Cincopa",n="//www.cincopa.com/?afc=rc",l=false;if(f.acc&&f.acc.user){n+=","+f.acc.user.plan_name.substring(0,2)}if(f.args.allow_change_about_cincopa_text&&f.args.allow_change_about_cincopa_text!="Powered by Cincopa"&&f.args.allow_change_about_cincopa_text!="About Cincopa"){a=f.args.allow_change_about_cincopa_text}if(f.args.allow_change_about_cincopa_url&&f.args.allow_change_about_cincopa_url!="//www.cincopa.com"){b=f.args.allow_change_about_cincopa_url}if(f.acc&&f.acc.user&&f.acc.user.features&&f.acc.user.features["skin-hide-right-click-about-cincopa"]&&f.acc.user.features["skin-hide-right-click-about-cincopa"].value=="true"){k=false}if(f.args.right_click=="download"||f.args.right_click_download==true){l=true}if(f.args.right_click_report){j=true}if(f.args.right_click_copy_embed){h=true}j=true;var g=[];if(a){g.push({title:a,callback:function(){window.open(b,"_blank")}})}if(h){g.push({title:"Copy link and thumbnail",callback:function(){f.copyLinkAndThumb(f)}})}if(l){g.push({title:"Download",callback:function(){var o="";if(typeof c.rcd_cb=="function"){o=c.rcd_cb(f.contextMenuTarget)}if(o){window.open(o,"_self")}}})}if(j){g.push({title:"Report a problem",callback:function(){f.reportProblem(d)}})}if(k){g.push({title:m,callback:function(){window.open(n,"_blank")}})}cincopa.contextMenu(d,g,f)},"context_menu.init",0);cincopa.registerEvent(function(h,g,j){var m=g.type;if(!m||m=="off"){return}var a=j.detectIframeDocument().getElementById(j.loaderParams._object);var k=j.detectIframeDocument().getElementById("big-video-wrap_"+j.loaderParams._object)!==null;if(k){a=j.detectIframeDocument().getElementById("big-video-wrap_"+j.loaderParams._object)}var l=window.getComputedStyle(a).getPropertyValue("position");if(l!="fixed"&&l!="absolute"){a.style.position="relative"}var b;if(m=="button"){b=document.createElement("div");b.className="ze_overlay_button ze_overlay";var f=document.createElement("div");f.className="ze_overlay_button_inner";f.style.color="#"+j.args.overlay_button_text_color;var d=document.createElement("span");d.className="ze_overlay_button_title";d.innerHTML=j.args.overlay_button_title;var c=document.createElement("a");c.innerHTML=j.args.overlay_button_text;c.style.backgroundColor="#"+j.args.overlay_button_color;c.className="ze_overlay_button_button";c.onclick=function(){if(j.args.overlay_link){window.open(j.args.overlay_link,j.args.overlay_target?"_blank":"_self")}};f.appendChild(d);f.appendChild(c);b.appendChild(f)}else{if(m=="watermark"){b=document.createElement("div");b.className="ze_overlay_watermark ze_overlay";var e=document.createElement("img");e.src=j.args.overlay_watermark_url;b.onclick=function(){if(j.args.overlay_link){window.open(j.args.overlay_link,j.args.overlay_target?"_blank":"_self")}};if(j.args.overlay_watermark_position=="bottom_left"){b.style.left=0;b.style.bottom=0}else{if(j.args.overlay_watermark_position=="bottom_right"){b.style.right=0;b.style.bottom=0}else{if(j.args.overlay_watermark_position=="top_left"){b.style.left=0;b.style.top=0}else{if(j.args.overlay_watermark_position=="top_right"){b.style.right=0;b.style.top=0}}}}b.appendChild(e)}else{if(m=="custom"){b=document.createElement("div");b.className="ze_overlay_html ze_overlay";if(j.args.overlay_html){b.innerHTML=j.args.overlay_html}}}}if(b){a.appendChild(b)}},"overlay.show",0);cincopa.registerEvent(function(d,b,e){var c=b.div_id;var a=e.detectIframeDocument().getElementById(c);if(!a){return}var g=a.getElementsByClassName("ze_overlay");for(var f=0;f<g.length;f++){g[f].parentNode.removeChild(g[f])}},"overlay.hide",0);cincopa.registerEvent(function(e,c,f){if(typeof f.args.overlay_type=="undefined"||f.args.overlay_type=="off"){return}var b={type:f.args.overlay_type};if(f.args.overlay_time=="onload"){f.onSkinEvent("overlay.show",b)}else{if(f.args.overlay_time=="onclick"){var a=f.detectIframeDocument().getElementById(f.loaderParams._object);if(a){var h=window.getComputedStyle(a).getPropertyValue("position");if(h!="fixed"&&h!="absolute"){a.style.position="relative"}var g=document.createElement("div");g.className="overlay_click_overlay";g.onclick=function(){f.onSkinEvent("overlay.show",b);g.parentNode.removeChild(g)};a.appendChild(g)}}else{if(f.args.overlay_time=="onhover"){var a=f.detectIframeDocument().getElementById(f.loaderParams._object);if(a){a.onmouseenter=function(){f.onSkinEvent("overlay.show",b)};a.onmouseleave=function(){f.onSkinEvent("overlay.hide",{div_id:f.loaderParams._object})}}}else{if(f.args.overlay_time=="at_sec"){var j=parseInt(f.args.overlay_sec);setTimeout(function(){f.onSkinEvent("overlay.show",b)},j*1000)}}}}},"runtime.on-html-loaded",0);cincopa.registerEvent(function(b,a,c){if(c.args.overlay_type=="poster_logo"){var f=c.skin.player;if(f){var d=f.layers?f.layers[0]:null;if(!d){return}var h=d.getElementsByClassName("mejs-poster");if(h.length>0){h=h[0];if(c.args.overlay_poster_type=="image"&&c.args.overlay_poster_logo_url){h.style.backgroundImage="url("+c.args.overlay_poster_logo_url+")";var g=h.getElementsByTagName("img");if(g.length>0){g=g[0];g.src=c.args.overlay_poster_logo_url}}else{if(c.args.overlay_poster_type=="overlay"){var e=h.getElementsByClassName("ze-mejs-poster-overlay");if(e.length==0){e=document.createElement("div");e.className="ze-mejs-poster-overlay";h.appendChild(e);if(c.args.overlay_poster_overlay_bg){e.style.background="#"+c.args.overlay_poster_overlay_bg;e.style.opacity="0.4"}}}}}}}},"video.load",0);cincopa.registerEvent(function(d,b,e){var a=cincopa.qs.cpembed||"";if(cincopa.qs.cpembed===e.loaderParams._fid){var c=document.getElementById(e.loaderParams._object);if(c){setTimeout(function(){c.scrollIntoView()},1000)}}},"runtime.on-html-loaded",0);cincopa.registerEvent("cincopa.cp_evt_stats","video.*",0);cincopa.cp_evt_stats=function(e,a,d){var f=0;var b=null;if(e=="video.error"){if(a.error_hls&&a.error_hls.details=="manifestParsingError"){try{}catch(c){}}else{if(a.error_hls&&a.error_hls.details=="bufferStalledError"){if(!b){if(f<5){b=setTimeout(function(){cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/oa.aspx?uid=videostats&fid=vftu"+a.uid+"&setref="+encodeURIComponent("http://"+a.item.rid+"/evtBuffer"+f+cincopa.short_ua));f++;b=null;cincopa.trace("errortimer "+f)},2000)}}}}}else{if(e=="video.timeupdate"){try{clearTimeout(b);b=null}catch(c){}}}};cincopa.orderByTime=function(d){var c=[];for(var a in d){if(d[a] instanceof Array){var e=[];for(var b=0;b<d[a].length;b++){e.push(d[a][b])}}else{e=d[a]}c.push({time:a,value:e})}c.sort(function(f,g){return cincopa.cp_hmsToSecondsOnly(f.time)-cincopa.cp_hmsToSecondsOnly(g.time)});return c};cincopa.decodeXml=function(b){var a={"&amp;":"&","&quot;":'"',"&lt;":"<","&gt;":">"};return b.replace(/(&quot;|&lt;|&gt;|&amp;)/g,function(d,c){return a[c]})};setTimeout(cincopa.measure_alert,10000);cincopa.registerEvent("cincopa.cp_track_fail_load","runtime.*",0);cincopa.cp_track_fail_load=function(c,a,b){if(c=="runtime.internal-on-args"){b.__track_fail_load=setTimeout(function(){cincopa.logError("fail_load1","timeout");cincopa.traceit("gallery failed","")},10000)}else{if(c=="runtime.on-html-loaded"){if(b.__track_fail_load){clearTimeout(b.__track_fail_load);b.__track_fail_load=null}}}};cincopa.registerEvent(function(e,d,f){if(d.uid=="AcFA_CB76nb5"||d.uid=="AQDAtmQV2i12"){f.args.allow_change_about_cincopa_url="//www.cincopa.com/he/video-hosting"}if((f.acc&&f.acc.user&&f.acc.user.plan_name=="free"&&f.args.template=="AoIAMJd_cbRb")||cincopa.hash.cpaddlogo){f.args.player_watermark_on_off=true;f.args.player_watermark="//wwwcdn.cincopa.com/_cms/design15/images/cincopa-cs-logo.png";f.args.player_watermark_link="//www.cincopa.com";f.args.new_page=true;cincopa.logError("free_video_player","timeout")}if(f.args&&f.args.player_watermark&&f.args.player_watermark.indexOf("images/acme.png")>-1&&f.args.player_watermark_on_off=="true"){cincopa.logError("old_amce_logo","whatever")}var a=false;var b=false;var c=null;if(f.args.iframe==true||f.args.iframe=="true"){c=f.detectIframeDocument().getElementById(f.loaderParams._object)}else{c=getElement(f.loaderParams._object)}if(c&&(c.className.indexOf("cincopa_popup")>-1||c.className.indexOf("cincopa-popup")>-1)){a=true}if(a&&c){f.args.iframe=false;f.args.allow_lightbox="cincopa_popup";f.args.allow_lightbox_text=c.innerHTML||"Watch the video";c.cincopaAddEventListener("click",function(g){g.stopPropagation();g.preventDefault()})}if(c&&(c.className.indexOf("cincopa-videothumbnail")>-1||c.className.indexOf("cincopa_videothumbnail")>-1)){b=true}if(b){f.args.iframe=false;f.args.allow_lightbox="video_thumbnail";f.args.allow_lightbox_fullscreen=false;f.args.allow_lightbox_size="small";f.args.allow_lightbox_thumbnail_properties="responsive"}},"runtime.on-args",0);cincopa.registerEvent(function(c,b,d){if((d.acc.user.plan_name=="free"&&d.args.template=="AoIAMJd_cbRb")||cincopa.hash.cpaddlogo){var f=d.skin.player;if(f){var a=f.controls?f.controls[0]:null;if(!a){return}var e=a.getElementsByClassName("mejs-player-logo-button");if(e&&e.length>0){e=e[0];e.style.width="auto";e.style.height=(a.offsetHeight-20)+"px";e.style.marginTop="8px";e.style.marginBottom="14px";e.style.marginRight="6px"}}}},"video.load",0);cincopa.concurrency_counter=cincopa.concurrency_counter||{enabled:false,lastplay:null,sliding_window:[]};cincopa.registerEvent("cincopa.cp_handle_concurrency","runtime.*",0);cincopa.registerEvent("cincopa.cp_handle_concurrency","video.*",0);cincopa.registerEvent("cincopa.cp_handle_concurrency","audio.*",0);cincopa.cp_handle_concurrency=function(d,b,c){var a=cincopa;if(d=="runtime.internal-on-args"&&c.args.skin_code=="/mediaelement/1"&&!c.iframeParentId){a.concurrency_counter.sliding_window.push(Date.now());while(a.concurrency_counter.sliding_window.length>0){if(Date.now()-a.concurrency_counter.sliding_window[0]<5000){break}a.concurrency_counter.sliding_window.shift()}if(!cincopa.disable_concurrency_handling){if(a.concurrency_counter.sliding_window.length>2&&!a.concurrency_counter.enabled){cincopa.traceit("Cincopa alert - high concurrency detected");a.concurrency_counter.enabled=true}else{if(a.concurrency_counter.sliding_window.length<=2&&a.concurrency_counter.enabled){cincopa.traceit("Cincopa alert - high concurrency disabled");a.concurrency_counter.enabled=false}}}if(a.concurrency_counter.enabled){c.args.fast_start=false}}else{if(d=="video.play"&&c.args.skin_code=="/mediaelement/1"){if(a.concurrency_counter.lastplay&&a.concurrency_counter.lastplay!=c){a.concurrency_counter.lastplay.playerAPI.pause()}a.concurrency_counter.lastplay=c}}if(d=="runtime.internal-on-args"&&c.args.skin_code=="/mediaelement/1"&&cincopa.hash.autostart=="true"){c.args.autostart="true";c.args.autoStart="true";c.args.video_autoplay="true";cincopa.traceit("Set autostart "+c.args.fid,c)}};cincopa.registerEvent("cincopa.cp_handle_hls_settings","runtime.internal-on-args",0);cincopa.cp_handle_hls_settings=function(d,a,c){try{if(d=="runtime.internal-on-args"){if(cincopa.hash.cpohls_max_buffer_length){}else{if(c.acc.user.settings["runtime.hls_max_buffer_length"]){c.args.hls_max_buffer_length=parseInt(c.acc.user.settings["runtime.hls_max_buffer_length"])}else{c.args.hls_max_buffer_length=40}}if(cincopa.hash.cpohls_max_fast_start_buffer_length){}else{if(c.acc.user.settings["runtime.hls_max_fast_start_buffer_length"]){c.args.hls_max_fast_start_buffer_length=parseInt(c.acc.user.settings["runtime.hls_max_fast_start_buffer_length"])}else{c.args.hls_max_fast_start_buffer_length=9}}if(c.acc.user.settings["runtime.hls_fast_start"]=="false"){c.args.fast_start=false}}}catch(b){}};cincopa.hubspot_integration=cincopa.hubspot_integration||{};cincopa.cp_hubspot_integration_api_endpoint="https://i974bvx12k.execute-api.us-east-1.amazonaws.com/latest/hubspot/api";cincopa.cp_hubspot_integration=function(f,b,d){if(b.item.liveid||d.args.skin_code=="/bgvideo/1"){return}var e=cincopa.inBetween(document.cookie,"hubspotutk=",";");if(!e){return}var h=null;if(f=="video.timeupdate"||f=="video.play"||f=="video.pause"||f=="video.ended"){var c=cincopa.cp_hmsToSecondsOnly(b.item.duration);var g=Math.round(cincopa.cp_media_hm[b.uid][b.item.rid].totaluniqueseconds/c*100);cincopa.hubspot_integration[b.item.rid]=cincopa.hubspot_integration[b.item.rid]||{lastSentPercent:-1,lastSentSecs:-1};if(f=="video.timeupdate"&&(g==cincopa.hubspot_integration[b.item.rid].lastSentPercent||cincopa.cp_media_hm[b.uid][b.item.rid].totaluniqueseconds<cincopa.hubspot_integration[b.item.rid].lastSentSecs+4)){return}cincopa.hubspot_integration[b.item.rid].lastSentPercent=g;cincopa.hubspot_integration[b.item.rid].lastSentSecs=cincopa.cp_media_hm[b.uid][b.item.rid].totaluniqueseconds;h={http_method:"PUT_JSON",id:cincopa.cp_media_hm[b.uid][b.item.rid]["hmid"],eventTypeId:19189,utk:e,percentWatched:g,mediaId:b.item.id,mediaRid:b.item.rid,mediaTitle:b.item.title,mediaUrl:b.item.content_url,timelineIFrame:{linkLabel:"View video",iframeLabel:b.item.title,iframeUri:"https://api.cincopa.com/v2/analytics.single_heatmap_iframe?api_token=1163760iou04m0qzuvzikzpb3sverp54qwe&date="+(new Date()).toISOString().slice(0,-14)+"&zone=0&hm="+cincopa.cp_media_hm[b.uid][b.item.rid]["hmid"]+"&uid="+b.uid+"&disable_editor=y",width:600,height:650}};cincopa.logFeature("hubspot-event",b.uid)}else{if(f=="emailgate.submit"){h={http_method:"PUT_JSON",id:cincopa.cp_media_hm[b.uid][b.item.rid]["hmid"],eventTypeId:19048,utk:e,mediaId:b.item.id,mediaRid:b.item.rid,mediaTitle:b.item.title,firstName:b.formData.values.firstName||b.formData.values.firstname||b.formData.values.first,lastName:b.formData.values.lastName||b.formData.values.lastname||b.formData.values.last,email:b.formData.values.email,hubspotPortalID:d.args.html_overlay_hubspot_portalid,hubspotFormID:d.args.html_overlay_hubspotid};delete h.listId;cincopa.logFeature("hubspot-submit",b.uid)}}if(h&&!cincopa.disable_analytics){var a=43261;Ajax(cincopa.cp_hubspot_integration_api_endpoint+"/integrations/v1/"+a+"/timeline/event?uid="+b.uid,h,function(j){cincopa.trace("hubspot-event",j);if(d.acc&&d.acc.user&&d.acc.user.uid&&d.acc.user.integration&&d.acc.user.integration.hubspot&&d.acc.user.integration.hubspot=="active"&&f=="emailgate.submit"){cincopa.cp_hubspot_integration_get_contact(d.acc.user.uid,function(){if(cincopa.hubspot_integration.last_contact_request){if(((cincopa.hubspot_integration.last_contact_request.properties.email&&cincopa.hubspot_integration.last_contact_request.properties.email.value)||b.formData.values.email)&&cincopa.hubspot_integration.last_contact_request.vid){var k={http_method:"POST_JSON",properties:[]};for(var l in b.formData.values){k.properties.push({property:l,value:b.formData.values[l]})}Ajax(cincopa.cp_hubspot_integration_api_endpoint+"/contacts/v1/contact/vid/"+cincopa.hubspot_integration.last_contact_request.vid+"/profile?uid="+uid,k,function(m){cincopa.trace("hubspot-event-contact-update",m)})}}})}})}};cincopa.cp_hubspot_integration_get_contact=function(c,a){var b=cincopa.inBetween(document.cookie,"hubspotutk=",";");if(!b){a();return null}Ajax(cincopa.cp_hubspot_integration_api_endpoint+"/contacts/v1/contact/utk/"+b+"/profile?uid="+c,{http_method:"GET"},function(d){d=cincopa.json_parse(d);cincopa.trace("hubspot-contact: ",d);cincopa.hubspot_integration.last_contact_request=d;if(typeof a==="function"){a()}})};cincopa.resume_playback=function(d,a,c){if(cincopa.disable_resume_playback){return}var e=c.get_video_play_stats(a).current_progress_sec;var b=cincopa.cp_hmsToSecondsOnly(a.item.duration);if(parseInt(e)<Math.floor(parseInt(b*0.9))&&parseInt(e)>0){cincopa.trace2("ilib","resume playback "+parseInt(e));c.playerAPI.setCurrentTime(parseInt(e))}};cincopa.registerEvent("cincopa.cp_emailgate_event","video.*",0);cincopa.registerEvent("cincopa.cp_emailgate_event","runtime.*",0);cincopa.registerEvent("cincopa.cp_emailgate_event","hubspot.load",0);cincopa.cp_emailgate_event=function(j,c,e){if(e.args.html_overlay_type=="none"||!e.args.html_overlay_type){return}function k(n,o){if(o.length<2){return}n.overlay={params:{allowSkip:e.args.html_overlay_skip==false||e.args.html_overlay_skip=="false"?false:true,isDefaultForm:e.args.html_overlay_type=="form"?true:false,listId:e.args.html_overlay_listid,name:e.args.html_overlay_name,upper_html:e.args.html_overlay_upper,lower_html:e.args.html_overlay_lower,button_text:e.args.html_overlay_button_text,formFields:o}};e.playerAPI.pause();var p=(/iPad|iPhone|iPod/.test(navigator.platform)||(navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1))&&!window.MSStream;if(p&&e.playerAPI.isFullScreen()){e.playerAPI.exitFullScreen()}e.onSkinEvent("emailgate.show",n)}var m="";if(e.args.html_overlay_fields=="only_email"){m="email"}else{if(e.args.html_overlay_fields=="not_only_email"){m="first,email,last"}else{if(e.args.html_overlay_fields=="csv"){var a=cincopa.csvToObject(e.args.html_overlay_csv);a.map(function(n,o){if(!m){m+=n.name}else{m+=","+n.name}})}}}function l(p){var q=[];if(e.args.html_overlay_fields=="only_email"){q=q.concat([{name:"email",displayOrder:1,label:"Email",placeholder:"Email",fieldType:"text",fieldWidth:"75",required:true},{name:"submit",label:e.args.html_overlay_button_text?e.args.html_overlay_button_text:"Submit",displayOrder:2,placeholder:"",fieldType:"submit",fieldWidth:"25"}])}else{if(e.args.html_overlay_fields=="not_only_email"){q=q.concat([{name:"first",displayOrder:1,label:"First Name",placeholder:"First Name",fieldType:"text",fieldWidth:"50"},{name:"last",displayOrder:2,label:"Last Name",placeholder:"Last Name",fieldType:"text",fieldWidth:"50"},{name:"email",displayOrder:3,label:"Email",placeholder:"Email Address",fieldType:"text",fieldWidth:"75",required:true},{name:"submit",label:e.args.html_overlay_button_text?e.args.html_overlay_button_text:"Submit",displayOrder:4,placeholder:"",fieldType:"submit",fieldWidth:"25"}])}else{if(e.args.html_overlay_fields=="csv"){var o=cincopa.csvToObject(e.args.html_overlay_csv);o.map(function(s,u){s.displayOrder=u+1;s.required=s.required==="true"?true:false;if(s.options){s.options=s.options.replace("{","").replace("}","");var w=[];var x=s.options.split(",");for(var t=0;t<x.length;t++){var v=x[t].split(":");w.push({label:v[0].trim(),value:v[1].trim()})}s.options=w}return s});q=o.concat([{name:"submit",label:"Submit",displayOrder:(o.length+1),placeholder:"",fieldType:"submit",fieldWidth:"100"}])}else{if(e.args.html_overlay_fields=="hubspot"||e.args.html_overlay_fields=="json"){var n=e.acc&&e.acc.user&&e.acc.user.uid&&e.acc.user.integration&&e.acc.user.integration.hubspot&&e.acc.user.integration.hubspot=="active";if(e.args.html_overlay_fields=="hubspot"&&n&&e.args.html_overlay_hubspot_live){Ajax(cincopa.cp_hubspot_integration_api_endpoint+"/forms/v2/forms/"+e.args.html_overlay_hubspotid+"?uid="+e.acc.user.uid,{dataType:"json",http_method:"GET"},function(v){var t=JSON.parse(v);var u=[];if(t.formFieldGroups){var s=t.formFieldGroups.map(function(w){return w.fields});u.fields=[].concat.apply([],s);u.fields=u.fields.concat([{name:"submit",label:t.submitText?t.submitText:"Submit",displayOrder:700,placeholder:"",fieldType:"submit",fieldWidth:"100"}]);e.args.html_overlay_formFields=u}r()})}else{e.args.html_overlay_formFields=cincopa.json_parse(e.args.html_overlay_formFields);r()}function r(){if(e.args.html_overlay_formFields){var s=e.args.html_overlay_formFields;q=s.fields;var t=q.filter(function(u){return !u.isSmartField||u.name==="submit"});if(n){cincopa.cp_hubspot_integration_get_contact(e.acc.user.uid,function(){if(cincopa.hubspot_integration.last_contact_request&&cincopa.hubspot_integration.last_contact_request.properties){t=t.filter(function(w){return typeof cincopa.hubspot_integration.last_contact_request.properties[w.name]==="undefined"});var u=t.filter(function(w){return w.required}).length;if(t.length==1||!u){var v=q.filter(function(w){return w.isSmartField||w.name==="submit"});v=v.filter(function(w){return typeof cincopa.hubspot_integration.last_contact_request.properties[w.name]==="undefined"});q=v}else{q=t}}k(p,q)});return}else{q=t;k(p,q)}}else{return}}}}}}k(p,q)}function h(p){var q=false;if(typeof e.args.html_overlay_name!="undefined"&&!cincopa.wizard_mode){var n=cincopa.inBetween(document.cookie,"cp_leadgen_"+e.args.html_overlay_listid+"=",";");if(n){var s=m.split(",");for(var o=0;o<s.length;o++){var r=s[o];if(n&&n.indexOf(r)==-1){q=false;break}else{q=true}}}}return q&&e.args.html_overlay_fields!=="hubspot"}if(j==="video.load"){if(e.args.html_overlay_show=="before_first"&&!h(c.item.rid)&&!e.emailgateskip){if(!e.overlayFirstRid||(e.MediaJSON.items.length&&e.MediaJSON.items[0].rid===c.item.rid)){l(c);if(e.MediaJSON.items[0].rid===c.item.rid){delete e.overlayFirstRid}else{e.overlayFirstRid=c.item.rid}}else{if(c.item.rid==e.overlayFirstRid){l(c)}}}e.showSubscribeForm=true}else{if(j==="video.timeupdate"){if(e.showSubscribeForm&&e.args.html_overlay_show&&!h(c.item.rid)){var d=e.playerAPI.duration();var b=~~e.playerAPI.currentTime();if((e.args.html_overlay_show=="on_25"&&d/4<b)||(e.args.html_overlay_show=="on_50"&&d/2<b)||(e.args.html_overlay_show=="on_75"&&d*3/4<b)||(e.args.html_overlay_show.indexOf("on_at_")>-1&&b>=cincopa.cp_hmsToSecondsOnly(e.args.html_overlay_show.replace("on_at_","")))){e.showSubscribeForm=false;l(c)}}}else{if(j==="video.ended"){var f=e.MediaJSON.items[0].rid===c.item.rid;var g=e.MediaJSON.items[e.MediaJSON.items.length-1].rid===c.item.rid;if(e.args.html_overlay_show=="on_first"&&f&&!h(c.item.rid)){l(c)}else{if(e.args.html_overlay_show=="on_last"&&g&&!h(c.item.rid)){l(c)}else{if(e.args.html_overlay_show=="on_each"&&!h(c.item.rid)){l(c)}}}}else{if(j==="hubspot.load"){l(c)}else{if(j==="runtime.internal-on-args"){if(e.args.html_overlay_disabled=="false"||e.args.html_overlay_disabled==false){e.args.html_overlay_type="none"}if(e.MediaJSON&&e.MediaJSON.items&&e.MediaJSON.items[0]){if(!h(e.MediaJSON.items[0].rid)&&e.args.html_overlay_show=="before_first"){e.args.autostart=false}}}else{if(j==="runtime.on-media-json"){if(e.args){if(!h(e.MediaJSON.items[0].rid)&&e.args.html_overlay_show=="before_first"){e.args.autostart=false}}}}}}}}};cincopa.registerEvent(function(b,a,c){var d=c.loaderParams._object;(function(g){var e=document.getElementById(g);function f(h){return(h.offsetParent===null)}if(e&&f(e)&&!c.hiddenContainerInterval){c.hiddenContainerInterval=setInterval(function(){if(e&&!f(e)){var h=document.createEvent("CustomEvent");h.initCustomEvent("resize",true,true,{action:"hiddenContainer"});window.dispatchEvent(h);clearInterval(c.hiddenContainerInterval)}},1000)}})(d)},"runtime.on-html-loaded",0);cincopa.registerEvent(function(b,a,c){if(!a.player){return}var d=a.player.layers?a.player.layers[0]:null;if(!d){return}var f=d.getElementsByClassName("mejs-poster");if(f.length>0){f=f[0];if(a.posterURL){f.style.backgroundImage=a.posterURL;var g=f.getElementsByTagName("img");if(g.length>0){g=g[0];g.setAttribute("src",a.posterURL)}else{g=document.createElement("img");g.src=a.posterURL;f.appendChild(g)}}f.style.display="block"}var e=d.getElementsByClassName("mejs-overlay-play");if(e.length>0){e=e[0];e.style.display="block"}},"player.failed",0);cincopa.registerEvent(function(b,a,c){if(c.args.iframe){c.resizeIFrame()}},"skin.on-resize",0);var _cpmp=_cpmp||[];cincopa.boot_all();if(typeof _zel!="undefined"){cincopa.logFeature("old_zel");for(var i=0;i<_zel.length;i++){var go=new GalleryObject(_zel[i]);_zel[i]["_id"]="_cp_"+_cp_last_gallery++;zeGalleryArray[_zel[i]["_id"]]=go;if(_zel[i]["_iframeParentObject"]){go.iframeParentObject=_zel[i]["_iframeParentObject"]}if(_zel[i]["_args"]){cincopa.trace("loading args directly into go object");go.onArgs(_zel[i]["_args"])}else{go.initialize()}}_zel=[]}cincopa.registerEvent(function(d,b,c){if(c.args.allow_lightbox!=="no"&&!c.lightModeEnabled){var e=c.getSkin();var a;if(c.args.iframe==true){a=c.detectIframeDocument().getElementById(c.loaderParams._object)}else{a=getElement(e.go.loaderParams._object)}if(a.getElementsByClassName("cp_lightbox_wrap").length){c.showVideoThumbnail(a)}return}},"skin.loadjscssfile",0);cincopa.registerEvent(function(g,b,e){var c=f(b.item);if(c.indexOf("?")>-1){c=c.replace(/&amp;/g,"&")+"&m=y"}else{c=c.replace(/&amp;/g,"&")+"?m=y"}if(c.indexOf("?o=")>-1){c=c.replace("o=1","o=0").replace("o=2","o=0").replace("o=3","o=0").replace("o=4","o=0").replace("o=6","o=0").replace(".mp4?","?")}window.open(c,"_self");var a={ev:"asset.download",ud:cincopa.analytics,rid:b.item.rid,uid:b.uid,fn:b.item.title};try{a.hmid=cincopa.cp_media_hm[b.uid][b.item.rid]["hmid"]}catch(d){}cincopa.send_beacon(cincopa._ROOT_ANALYTICS+"/oa.aspx?uid=download-"+uid+"&fid=rid-"+b.item.rid+"&setref="+encodeURIComponent(cincopa.location())+"&cb="+encodeURIComponent(btoa(JSON.stringify(a))));e.pushEventToGA("item download "+b.item.rid);function f(h){var j="";if(h.versions&&h.versions.mp4_hd&&h.versions.mp4_hd.url){j=h.versions.mp4_hd.url}if(!j&&h.versions&&h.versions.original&&h.versions.original.url){j=h.versions.original.url}if(!j){j=h.content_url}return j}},"item.download",0);cincopa.cp_pbar=function(d,a,b){if(d=="video.timeupdate"){var e=b.get_video_play_stats(a);cincopa.createProgressBarContainer(b,a.item.rid,e)}else{if(d=="runtime.on-html-loaded"){var f=b.get_all_video_play_stats();for(var c in f){if(f.hasOwnProperty(c)){cincopa.createProgressBarContainer(b,c,f[c])}}}}};cincopa.createProgressBarContainer=function createProgressBarContainer(e,j,l){var b,h;var b,h;var f=l.hm_range;var c=l.duration_sec;var a=l.completion_percent;var k=e.getSkin();if(e.args.iframe==true){b=e.detectIframeDocument().getElementById(e.loaderParams._object)}else{b=document.getElementById(k.go.loaderParams._object)}var d;if(e.args.channel_progress){d=b.querySelectorAll('.playlistContainer a[data-rid="'+j+'"] .pl_item_thumb')}else{d=b.querySelectorAll('.playlistContainer a[data-rid="'+j+'"]')}for(var g=0;g<d.length;++g){h=d[g].querySelector(".video-progress-bar-container");if(!h){h=document.createElement("div");h.className="video-progress-bar-container";d[g].appendChild(h)}if(a>=98){d[g].classList.add("video-progress-completed")}h.innerHTML=cincopa.createProgressBars(f,c)}};cincopa.createProgressBars=function(k,b,a){var g=k.split(",");var d="";for(var e=0;e<g.length;e++){var h=g[e];if(g[e].indexOf(":")>-1){h=g[e].split(":")[0]}var j=parseInt(h.split("-")[0]);var c=parseInt(h.split("-")[1]||j)+1;var l=(c-j)*100/b;var f=j/b*100;d+='<div class="video-progress-bar" style="left:'+f+"%;width:"+l+'%;"> </div>'}return d};cincopa.deepClone=function(d){if(Object.prototype.toString.call(d)==="[object Array]"){var a=[];for(var b=0;b<d.length;b++){a[b]=cincopa.deepClone(d[b])}return a}else{if(typeof(d)=="object"){var a={};for(var c in d){if(d.hasOwnProperty(c)){a[c]=cincopa.deepClone(d[c])}}return a}else{return d}}};document.addEventListener("DOMContentLoaded",function(){var e=/cincopa(?:-|_)fid(?:-|_)(.*?)(?:$| )/i;var a=document.querySelectorAll('[class*="cincopa"]');for(var d=0;d<a.length;d++){var f=a[d].className;var c=f.match(e);var b="";if(c&&c[1]){if(b!=""){b=a[d].id}else{b="cincopa_embed_"+d;a[d].id=b}cincopa.boot_gallery({_object:b,_fid:c[1]})}}},{once:true});/* memcache */